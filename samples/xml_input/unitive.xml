<?xml version="1.0" encoding="UTF-8"?>
<project format="0.1">
  <name>Unitive</name>
  <uid>153b7854-4416-41d5-b99c-787779101297</uid>
  <description>Project defining all of Unitive's products.</description>
  <testPlan>
    <folder>
      <name>Unitive</name>
      <uid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</uid>
      <order_in_parent>8252149</order_in_parent>
    </folder>
    <folder>
      <name>Production</name>
      <uid>4307bc6d-43e7-4f17-ba17-84ba3a9a08cf</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>8355840</order_in_parent>
    </folder>
    <folder>
      <name>Canary</name>
      <uid>5a8d6654-5af6-404f-95ca-f8add5eca93e</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>8323072</order_in_parent>
    </folder>
    <folder>
      <name>RC</name>
      <uid>8329d395-57c8-4cd5-bab2-8947cde56256</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>8257536</order_in_parent>
    </folder>
    <folder>
      <name>Bugs</name>
      <uid>fb8458c7-136a-4613-aecf-9af662b818c0</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>2097152</order_in_parent>
    </folder>
    <folder>
      <name>Complete</name>
      <uid>7ffd9522-42d6-483e-859d-2b1c540a6cc0</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>8126464</order_in_parent>
    </folder>
    <folder>
      <name>Current</name>
      <uid>c63ea07b-9a67-44e7-a316-811c74864664</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>7864320</order_in_parent>
    </folder>
    <folder>
      <name>Backlog</name>
      <uid>a8b12fc4-1931-484d-bcb4-e1b1b3e66841</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>7340032</order_in_parent>
    </folder>
    <folder>
      <name>Icebox</name>
      <uid>57982a3c-0cad-470c-9f93-aa0586944ec7</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>6291456</order_in_parent>
    </folder>
    <folder>
      <name>Pointing</name>
      <uid>31717e75-c974-42f4-9cea-b75b886e2587</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>4194304</order_in_parent>
    </folder>
    <folder>
      <name>Ideas</name>
      <uid>d1a2c304-2b32-4e05-ab1c-783c4f7bc4aa</uid>
      <parentUid>1ca4324c-70e3-4fed-b0dd-88c4ee7df172</parentUid>
      <order_in_parent>0</order_in_parent>
    </folder>
    <folder>
      <name>multitenancy</name>
      <uid>62c8772d-7fdf-4561-940e-a70f8df2c856</uid>
      <parentUid>d1a2c304-2b32-4e05-ab1c-783c4f7bc4aa</parentUid>
      <order_in_parent>6291456</order_in_parent>
    </folder>
    <folder>
      <name>resume</name>
      <uid>592c767a-a1fa-4f97-9cdf-dcb8c7134403</uid>
      <parentUid>d1a2c304-2b32-4e05-ab1c-783c4f7bc4aa</parentUid>
      <order_in_parent>4194304</order_in_parent>
    </folder>
    <folder>
      <name>users</name>
      <uid>48760ee9-9ed6-413b-899d-279917f8d9c0</uid>
      <parentUid>d1a2c304-2b32-4e05-ab1c-783c4f7bc4aa</parentUid>
      <order_in_parent>0</order_in_parent>
    </folder>
    <folder>
      <name>Allow a user to have a user or admin view of the product</name>
      <uid>b22c0f71-9cde-4f08-90be-87b07248d9f7</uid>
      <parentUid>48760ee9-9ed6-413b-899d-279917f8d9c0</parentUid>
      <order_in_parent>8257536</order_in_parent>
    </folder>
    <folder>
      <name>Add an email to a valid unitive user account</name>
      <uid>591e5c02-03f2-4309-b2fe-19d77b70d458</uid>
      <parentUid>48760ee9-9ed6-413b-899d-279917f8d9c0</parentUid>
      <order_in_parent>8126464</order_in_parent>
    </folder>
    <folder>
      <name>create a new user</name>
      <uid>765df508-6d34-4122-aea3-6b520181c102</uid>
      <parentUid>48760ee9-9ed6-413b-899d-279917f8d9c0</parentUid>
      <order_in_parent>7864320</order_in_parent>
    </folder>
    <folder>
      <name>Demote a user from admin to regular user in a tenant they are linked to</name>
      <uid>ca4f9528-da2b-463b-9f88-22dce1e10d61</uid>
      <parentUid>48760ee9-9ed6-413b-899d-279917f8d9c0</parentUid>
      <order_in_parent>7340032</order_in_parent>
    </folder>
    <folder>
      <name>Promote a user from regular user to admin in a tenant they are linked to</name>
      <uid>f133a01a-76a1-4c75-bc8e-76486f174ff3</uid>
      <parentUid>48760ee9-9ed6-413b-899d-279917f8d9c0</parentUid>
      <order_in_parent>6291456</order_in_parent>
    </folder>
    <folder>
      <name>Link a user to a tenant</name>
      <uid>5591afff-bbaa-41bb-af9a-4abffd59f5d4</uid>
      <parentUid>48760ee9-9ed6-413b-899d-279917f8d9c0</parentUid>
      <order_in_parent>4194304</order_in_parent>
    </folder>
    <folder>
      <name>Unlink a user from a tenant</name>
      <uid>29e72757-d571-4ec4-9f42-cef32b8bb3e2</uid>
      <parentUid>48760ee9-9ed6-413b-899d-279917f8d9c0</parentUid>
      <order_in_parent>0</order_in_parent>
    </folder>
    <folder>
      <name>Resume cleanse</name>
      <uid>efe9d003-d452-41a3-b18e-d9585e3f413e</uid>
      <parentUid>592c767a-a1fa-4f97-9cdf-dcb8c7134403</parentUid>
      <order_in_parent>4194304</order_in_parent>
    </folder>
    <folder>
      <name>parsing valid resumes</name>
      <uid>e6a2d068-ee43-4134-b63d-ae3e0d83b883</uid>
      <parentUid>592c767a-a1fa-4f97-9cdf-dcb8c7134403</parentUid>
      <order_in_parent>0</order_in_parent>
    </folder>
    <folder>
      <name>login</name>
      <uid>24421ed7-daa8-4b6b-96d6-37e0ad2d4cd1</uid>
      <description>  As a Unitive owner
  I want users authenticated with username, password, and domain
  So that users can authenticate

  We need to auth users with the domain of their email address, and their password

  For unitive super-users, we need to require two factor auth</description>
      <parentUid>62c8772d-7fdf-4561-940e-a70f8df2c856</parentUid>
      <order_in_parent>7864320</order_in_parent>
    </folder>
    <folder>
      <name>Tenant access control</name>
      <uid>27c15d77-e2f8-499d-ad90-aeb4b6e006a6</uid>
      <parentUid>62c8772d-7fdf-4561-940e-a70f8df2c856</parentUid>
      <order_in_parent>7340032</order_in_parent>
    </folder>
    <folder>
      <name>set auto-link for users with verified email address on tenant domain</name>
      <uid>d11c7903-c1c6-4a91-949a-2f0a3f0af9c9</uid>
      <parentUid>62c8772d-7fdf-4561-940e-a70f8df2c856</parentUid>
      <order_in_parent>6291456</order_in_parent>
    </folder>
    <folder>
      <name>Grant user access control to another tenant's data</name>
      <uid>f628ea3f-1a93-4c97-a3a0-cc40ededb505</uid>
      <parentUid>62c8772d-7fdf-4561-940e-a70f8df2c856</parentUid>
      <order_in_parent>0</order_in_parent>
    </folder>
    <folder>
      <name>saml</name>
      <uid>bde91428-1b19-492a-8a3e-3f75ecc020f4</uid>
      <description>As a Unitive Customer 
I want to have my users login to Unitive using SAML Single Sign On in 
so that I can manage my users from a single location providing global control and security for my company.</description>
      <parentUid>31717e75-c974-42f4-9cea-b75b886e2587</parentUid>
      <order_in_parent>0</order_in_parent>
    </folder>
  </testPlan>
  <scenarios>
    <scenario>
      <name>Unlink a user from a tenant I have read-write privileges to</name>
      <uid>27a734c8-32fa-4ada-8b51-480008381b09</uid>
      <folderUid>29e72757-d571-4ec4-9f42-cef32b8bb3e2</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>bfd4deaf-75f0-4c74-854e-08c7789469f1</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>34380daa-1585-43ca-8c9c-42f72e006737</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
        <parameter>
          <name>user</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user" has read-write privileges to tenant "tenant"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>user "p1" is currently linked to tenant foo.com</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests unlinking "p2" from tenant foo.com</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should unlink "p1" from foo.com</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Fail to unlink a user from a tenant if I don't have read-write privileges to the tenant</name>
      <uid>40e8ca1d-c549-44ac-b566-bf03bd381773</uid>
      <folderUid>29e72757-d571-4ec4-9f42-cef32b8bb3e2</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>e0430e31-f51c-4548-975b-10d607e06213</datasetUid>
          <raw_data>
            <data>
              <name>unlinker</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>unlinker</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>1f947550-c099-4065-91e5-a4fdf3f51bcd</datasetUid>
          <raw_data>
            <data>
              <name>unlinker</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>unlinker</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>unlinker</name>
        </parameter>
        <parameter>
          <name>user</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>a valid unitive account "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>unlinker</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" does not have read-write admin privileges to foo.com</actionword>
          <annotation>but</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>unlinker</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests unlinking "p2" from tenant foo.com</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>unlinker</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should deny the unlinking and return an error of ERROR_PRIVILEGE</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Link a user to a tenant I have read-write privileges to, as a non-admin user</name>
      <uid>4d8b0395-4db2-426f-8f2b-1bc36df411c9</uid>
      <folderUid>5591afff-bbaa-41bb-af9a-4abffd59f5d4</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>07323ac6-6588-45a3-b9de-38731dfb0ff2</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>caf5ac1f-f4c9-490c-b7a8-efc31f4e5469</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>sam@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>sam@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>2f5bb07c-eca0-4cc9-8c40-6a01f7b412ca</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>693fd1c3-2554-4fda-a1b7-5e9795979cad</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>sam@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>sam@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
        <parameter>
          <name>user</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user" has read-write privileges to tenant "tenant"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
            <argument>
              <name>tenant</name>
              <value>
                <template>
                  <stringliteral>foo.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests linking "p2" with tenant foo.com in user role</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should link "p1" to foo.com</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" should have the role of user</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Link a user to a tenant I have read-write privileges to, as an admin</name>
      <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
      <folderUid>5591afff-bbaa-41bb-af9a-4abffd59f5d4</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>2062f2cf-5cba-4677-923c-83499087429a</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>36db3057-fbee-45c8-a714-57341a4ca146</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
        <parameter>
          <name>user</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user" has read-write privileges to tenant "tenant"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" has an email address attached to their account with email domain foo.com</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests linking "p2" with tenant foo.com as an admin</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should link "p1" to foo.com</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" should have the role of admin</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Fail to link a user to a tenant if I don't have read-write privileges to the tenant</name>
      <uid>1d993428-7452-41c4-8012-a4ecb4973524</uid>
      <folderUid>5591afff-bbaa-41bb-af9a-4abffd59f5d4</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>ec1e0dda-9bbe-40ae-8f13-925969c5b82b</datasetUid>
          <raw_data>
            <data>
              <name>linker</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>linker</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>2c507cb8-0648-42c4-a9bc-9c4ce368c683</datasetUid>
          <raw_data>
            <data>
              <name>linker</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>sam@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>linker</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>sam@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>8d6d0a7f-29cd-40d7-9951-2a33aa43f756</datasetUid>
          <raw_data>
            <data>
              <name>linker</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>linker</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>fede0322-ef98-4d70-8aa2-831a1791e111</datasetUid>
          <raw_data>
            <data>
              <name>linker</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>sam@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>linker</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>sam@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>linker</name>
        </parameter>
        <parameter>
          <name>user</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>a valid unitive account "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>linker</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" does not have read-write admin privileges to foo.com</actionword>
          <annotation>but</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>linker</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests linking "p2" with tenant foo.com in a user role</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>linker</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should deny the linking and return an error of ERROR_PRIVILEGE</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Link a user to a tenant I have read-write privileges to, as an admin (1)</name>
      <uid>dc637fd5-f153-4818-aaf2-2605482f69f5</uid>
      <folderUid>5591afff-bbaa-41bb-af9a-4abffd59f5d4</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>d4969e1f-5b72-40fe-8f5a-ab4c772521b7</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>f3f4e908-08f7-4aa5-9f62-9f39cc87df04</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>beth@bar.com</value>
            </data>
            <data>
              <name>user</name>
              <value>ellie@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>beth@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user</name>
              <value>
                <stringliteral>ellie@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
        <parameter>
          <name>user</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user" has read-write privileges to tenant "tenant"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" does nto have an email address attached to their account with email domain foo.com</actionword>
          <annotation>but</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests linking "p2" with tenant foo.com as an admin</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>user</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should deny the linking and return an error of ERROR_NO_TENANT_EMAIL</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>promote a user from regular user to admin</name>
      <uid>f825ef07-b4db-4218-aff6-911dbda0eec1</uid>
      <folderUid>f133a01a-76a1-4c75-bc8e-76486f174ff3</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>2a5f02f0-04a6-43b2-ad04-fed8a662af10</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>c9c67f33-35b0-4ca8-b8b1-b2408ac0a4e2</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>moe@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>moe@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>a foo.com admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" has read-write privileges on tenant foo.com</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>user fred@foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>fred@foo.com is linked to tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>"p1" requests to promote user fred@foo.com to admin</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should promote fred@foo.com to an admin for tenant foo.com</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>promote a user from regular user to admin (1)</name>
      <uid>9e74aa8f-8ca8-4dd8-ad1a-ba230dac25db</uid>
      <folderUid>f133a01a-76a1-4c75-bc8e-76486f174ff3</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>3a2d3265-ca48-49bf-9823-f0f397ee4e5b</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>0ac9b59d-c2c1-4ce2-a777-d0a402e5a983</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>moe@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>moe@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>a foo.com admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>user fred@foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>fred@foo.com is linked to tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>"p1" DOES NOT HAVE read-write privileges on tenant foo.com</actionword>
          <annotation>but</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests to promote user fred@foo.com to admin</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should deny the promotion and return error ERROR_PRIVILEGE</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>promote a user from regular user to admin (2)</name>
      <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
      <folderUid>ca4f9528-da2b-463b-9f88-22dce1e10d61</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>4bf317ef-a18a-4cec-ad65-a3557376fc79</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>9f0984c4-af3e-47a0-a116-39b34b1b1f89</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>moe@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>moe@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>a foo.com admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" has read-write privileges on tenant foo.com</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>user fred@foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>fred@foo.com is linked to tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>fred@foo.com is an admin on tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>"p1" requests to demote admin fred@foo.com to regular user</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should demote fred@foo.com to a regular user for tenant foo.com</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>demote a user from admin to regular user</name>
      <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
      <folderUid>ca4f9528-da2b-463b-9f88-22dce1e10d61</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>72e7aecb-51fd-4372-99ef-015b46132244</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>92fb0988-78e6-40b4-9f63-3170e56773eb</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>moe@bar.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>moe@bar.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>a foo.com admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>user fred@foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>fred@foo.com is linked to tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>fred@foo.com is an admin on tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>"p1" DOES NOT HAVE read-write privileges on tenant foo.com</actionword>
          <annotation>but</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests to demote fred@foo.com to regular user</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should deny the demotion</actionword>
          <annotation>then</annotation>
        </call>
        <call>
          <actionword>return error ERROR_PRIVILEGE</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Prevent an admin from demoting themselves</name>
      <uid>48ba211d-37f8-4237-b88f-9969ece98652</uid>
      <folderUid>ca4f9528-da2b-463b-9f88-22dce1e10d61</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a foo.com admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>joe@foo.com tries to demote himself</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>you should deny the demotion</actionword>
          <annotation>then</annotation>
        </call>
        <call>
          <actionword>return error ERROR_SELF_HARM</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>New user requests a unitive account</name>
      <uid>fb5c6e58-e0b4-4a3b-80da-7bfe6eee8445</uid>
      <folderUid>765df508-6d34-4122-aea3-6b520181c102</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a user's name John Doe</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>a user's email address john.doe@gmail.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>the user does not specify a tenant</actionword>
          <annotation>but</annotation>
        </call>
        <call>
          <actionword>John Doe requests a new Unitive account</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>you should create a new Unitive user account for john.doe@gmail.com</actionword>
          <annotation>then</annotation>
        </call>
        <call>
          <actionword>john.doe@gmail.com should be assigned to a 'user-unique-tenant'</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>New user requests a unitive account on new tenant domain</name>
      <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      <folderUid>765df508-6d34-4122-aea3-6b520181c102</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a user's name John Doe</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>a user's email address john.doe@newtenantdomain.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>newtenantdomain.com is not a tenant domain already registered with Unitive</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>newtenantdomain.com is not known as a free email domain</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>John Doe requests a new Unitive account</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>you should create a new Unitive user account for john.doe@newtenantdomain.com</actionword>
          <annotation>then</annotation>
        </call>
        <call>
          <actionword>you should create a new tenant for newtenantdomain.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>you should link john.doe@newtenantdomain.com to tenant newtenantdomain.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>you should make john.doe@newtenantdomain.com an admin for tenant newtenantdomain.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>john.doe@newtenantdomain.com should be assigned to a 'user-unique-tenant'</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Admin requests a new unitive user account</name>
      <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      <folderUid>765df508-6d34-4122-aea3-6b520181c102</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>33de18d4-726a-4c09-885c-ec2ad4c47699</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user_name</name>
              <value>john doe</value>
            </data>
            <data>
              <name>user_email</name>
              <value>john.doe@gmail.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_name</name>
              <value>
                <stringliteral>john doe</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>john.doe@gmail.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>f59e9ec6-ec43-4d35-b039-18d5b38e0020</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>jill@bar.com</value>
            </data>
            <data>
              <name>user_name</name>
              <value>john doe</value>
            </data>
            <data>
              <name>user_email</name>
              <value>john.doe@gmail.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>jill@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_name</name>
              <value>
                <stringliteral>john doe</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>john.doe@gmail.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>673293f7-4500-4701-b113-269769dc451e</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>joe@foo.com</value>
            </data>
            <data>
              <name>user_name</name>
              <value>erin doe</value>
            </data>
            <data>
              <name>user_email</name>
              <value>erin.doe@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>joe@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_name</name>
              <value>
                <stringliteral>erin doe</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>erin.doe@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>b6a5d7c2-39a2-46bb-881e-04a5b78e7ccd</datasetUid>
          <raw_data>
            <data>
              <name>admin</name>
              <value>jill@bar.com</value>
            </data>
            <data>
              <name>user_name</name>
              <value>erin doe</value>
            </data>
            <data>
              <name>user_email</name>
              <value>erin.doe@foo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>admin</name>
              <value>
                <stringliteral>jill@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_name</name>
              <value>
                <stringliteral>erin doe</stringliteral>
              </value>
            </argument>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>erin.doe@foo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>admin</name>
        </parameter>
        <parameter>
          <name>user_name</name>
        </parameter>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>an admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a new user's name "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user_name</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a new user's email address "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user_email</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>and a valid tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>"p1" has admin read-write privileges on foo.com</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" requests a new account for "p2"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>admin</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>user_email</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should create a new Unitive user account for "p1"</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user_email</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" should be linked to foo.com</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user_email</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" should be assigned to a 'user-unique-tenant'</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>user_email</var>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>non-Admin requests a new unitive user account</name>
      <uid>9d26caa6-a4ca-4788-b983-4a99932ed543</uid>
      <folderUid>765df508-6d34-4122-aea3-6b520181c102</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>9e5e176f-6a77-4efa-81fc-611336ec4407</datasetUid>
          <raw_data>
            <data>
              <name>request_user</name>
              <value>mary@foo.com</value>
            </data>
            <data>
              <name>foo_admin_privs</name>
              <value>none</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>request_user</name>
              <value>
                <stringliteral>mary@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>foo_admin_privs</name>
              <value>
                <stringliteral>none</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>062c706a-7589-41d7-88f9-e68b7bba694f</datasetUid>
          <raw_data>
            <data>
              <name>request_user</name>
              <value>zoe@bar.com</value>
            </data>
            <data>
              <name>foo_admin_privs</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>request_user</name>
              <value>
                <stringliteral>zoe@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>foo_admin_privs</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>request_user</name>
        </parameter>
        <parameter>
          <name>foo_admin_privs</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>user "p1" with foo.com tenant privileges "p2"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>request_user</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>foo_admin_privs</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a new user's name "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>john doe</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a new user's email address "p1"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>john.doe@gmail.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>and a valid tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>"p1" requests a new account for "p2"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>request_user</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <template>
                  <stringliteral>john.doe@gmail.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should deny the request with an error_no_privilege</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Add an email address to a user for an existing tenant</name>
      <uid>9d6bf648-e47c-456c-b876-603918ef0f7c</uid>
      <folderUid>591e5c02-03f2-4309-b2fe-19d77b70d458</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>joe@foo.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>and a new email address for that user, joe@bar.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>the email address, joe@bar.com, can be verified by the user</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>bar.com is already attached to an existing unitive tenant</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>joe@foo.com requests adding joe@bar.com to their account</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>email address joe@bar.com should be attached to user joe@foo.com's account</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Add an email address to a user for an existing tenant (1)</name>
      <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
      <folderUid>591e5c02-03f2-4309-b2fe-19d77b70d458</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>joe@foo.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a new email address for that user, joe@bar.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>the email address, joe@bar.com, can be verified by the user</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>bar.com is already attached to an existing unitive tenant</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>bar.com has been conifgured to auto-link users with valid bar.com email addresses</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>joe@foo.com requests adding joe@bar.com to their account</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>attach email address joe@bar.com to user joe@foo.com's account</actionword>
          <annotation>then</annotation>
        </call>
        <call>
          <actionword>link joe@bar.com to tenant bar.com</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Add an email address to a user for a new tenant</name>
      <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      <folderUid>591e5c02-03f2-4309-b2fe-19d77b70d458</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>joe@foo.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>and a new email address for that user, joe@newtenantdomain.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>the email address, joe@newtenantdomain.com, can be verified by the user</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>newtenantdomain.com is not yet an existing unitive tenant domain</actionword>
          <annotation>but</annotation>
        </call>
        <call>
          <actionword>joe@foo.com requests adding joe@newtenantdomain.com to their account</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>email address joe@newtenantdomain.com should be attached to user joe@foo.com's account</actionword>
          <annotation>then</annotation>
        </call>
        <call>
          <actionword>new tenant, newtenantdomain.com, shoudl be created</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>joe@newtenantdomain.com should be linked to tenant newtenantdomain.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>joe@newtenantdomain.com should now be an admin for tenant newtenantdomain.com</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Adding an unverified email address to a user for an existing tenant</name>
      <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
      <folderUid>591e5c02-03f2-4309-b2fe-19d77b70d458</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a valid unitive user "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>joe@foo.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>and a new email address for that user, joe@bar.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>bar.com is already attached to an existing unitive tenant</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>the email address, joe@bar.com, CANNOT be verified by the user</actionword>
          <annotation>but</annotation>
        </call>
        <call>
          <actionword>joe@foo.com requests adding joe@bar.com to their account</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>the email address should not be linked to the user account</actionword>
          <annotation>then</annotation>
        </call>
        <call>
          <actionword>the new email address should remain in an incomplete state</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>parse a valid resume file</name>
      <uid>9d324f4a-134e-4968-8561-251ab8942bdd</uid>
      <folderUid>e6a2d068-ee43-4134-b63d-ae3e0d83b883</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>8a53a6e5-4bf0-45dd-ae29-cb4ec76659d1</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.pdf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.pdf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>0c496eab-a924-4e5d-aaef-fda6e4765c65</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.doc</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.doc</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>38e177cb-b086-4a6e-8b0b-e20ed06e8470</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.txt</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.txt</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>63e6e292-db9a-4324-ad3a-571a4f2fb450</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.rtf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.rtf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>resume_file</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>"p1" resume file with content:</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>resume_file</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>the resume is parsed</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>we should have the following content sections as results:</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>section_name</name>
              <value>
                <template>
                  <stringliteral>value</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>name</name>
              <value>
                <template>
                  <stringliteral>Jacque Cochran</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>email</name>
              <value>
                <template>
                  <stringliteral>SuperSonicGirl@gmail.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>location</name>
              <value>
                <template>
                  <stringliteral>10 airport dr, palm springs, ca, 90070</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>skills</name>
              <value>
                <template>
                  <stringliteral>everything</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>experience</name>
              <value>
                <template>
                  <stringliteral>In charge of the WASPs in WWII</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>education</name>
              <value>
                <template>
                  <stringliteral>self taught</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>patents</name>
              <value>
                <template>
                  <stringliteral>woman pilot training program</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>awards</name>
              <value>
                <template>
                  <stringliteral>presidential medal of freedom</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>competencies</name>
              <value>
                <template>
                  <stringliteral>flying, chemistry, philosophy</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>parse a valid small resume file</name>
      <uid>a1b1ca0b-4433-4cac-afff-e5f428910c5c</uid>
      <folderUid>e6a2d068-ee43-4134-b63d-ae3e0d83b883</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>3ea938ba-6e3e-459d-aacf-bb69d8b437e0</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.small.pdf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.small.pdf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>38e4049c-ef45-4f8f-b6a3-088e8c7888ec</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.small.doc</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.small.doc</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>64bb1fe1-7e7f-40a3-82b3-c7c5f1aca5f1</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.small.txt</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.small.txt</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>92ed514d-ef35-49a3-9d0a-4a4b41c9806f</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.small.rtf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.small.rtf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>resume_file</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>"p1" resume file with content:</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>resume_file</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>the resume is parsed</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>we should have the following content sections as results:</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>section_name</name>
              <value>
                <template>
                  <stringliteral>value</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>name</name>
              <value>
                <template>
                  <stringliteral>Jacque Cochran</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>email</name>
              <value>
                <template>
                  <stringliteral>SuperSonicGirl@gmail.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>location</name>
              <value>
                <template>
                  <stringliteral>10 airport dr, palm springs, ca, 90070</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>skills</name>
              <value>
                <template>
                  <stringliteral>everything</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>competencies</name>
              <value>
                <template>
                  <stringliteral>flying, chemistry, philosophy</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>parse a valid resume file with no candidate name</name>
      <uid>bcb5434c-028d-41ef-b08d-705e8151e356</uid>
      <folderUid>e6a2d068-ee43-4134-b63d-ae3e0d83b883</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>e0e0d72c-409a-4e5b-80e2-b24c537f26cb</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.noname.pdf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.noname.pdf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>b87fc1d8-447f-4f43-a9e5-fa2de1970bf9</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.noname.doc</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.noname.doc</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>c7fcea41-5c17-4cbe-9e62-1fc6b846caad</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.noname.txt</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.noname.txt</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>13b0e4ae-34c0-460b-a95b-900122247355</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.noname.rtf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.noname.rtf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>resume_file</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>a valid "p1" resume with content:</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>format</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>no name on the resume</actionword>
          <annotation>but</annotation>
        </call>
        <call>
          <actionword>the resume is parsed</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>the result should be an error</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>parse a valid LinkedIn profile</name>
      <uid>1ab4cec4-99f1-4333-951a-bb816f34caf6</uid>
      <folderUid>e6a2d068-ee43-4134-b63d-ae3e0d83b883</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>Laura Mather's LinkedIn profile with content:</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>the resume is parsed</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>we should have the following content sections as results:</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>name</name>
              <value>
                <template>
                  <stringliteral>Laura Mather</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>email</name>
              <value>
                <template>
                  <stringliteral>lamather@yahoo.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>location</name>
              <value>
                <template>
                  <stringliteral>SF Bay Area</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>skills</name>
              <value>
                <template>
                  <stringliteral>analytics, start-ups, leadership, etc...</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>experience</name>
              <value>
                <template>
                  <stringliteral>unitive CEO, Everwise mentor, etc...</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>education</name>
              <value>
                <template>
                  <stringliteral>BS@CU, MS@CU, PHD@CU</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>patents</name>
              <value>
                <template/>
              </value>
            </argument>
            <argument>
              <name>awards</name>
              <value>
                <template>
                  <stringliteral>#16 on 2012 List of 100 Most Creative...</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>competencies</name>
              <value>
                <template>
                  <stringliteral>analytics, start-ups, leadership, etc...</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>Section_name</name>
              <value>
                <template>
                  <stringliteral>value</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>cleanse a valid resume</name>
      <uid>84f61145-db45-4011-aa1a-6f6ab7f12c68</uid>
      <folderUid>efe9d003-d452-41a3-b18e-d9585e3f413e</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>c6603838-2a2c-4790-a8bc-51c91fc1e73a</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.pdf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.pdf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>9820f4cd-6ff1-4cfb-a0c6-b5278fd5650f</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.doc</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.doc</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>4caa8b82-7f6e-4a10-878b-0fead4a0e28b</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.txt</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.txt</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>ae3b18b7-5f01-41ab-92ce-472de430b42d</datasetUid>
          <raw_data>
            <data>
              <name>resume_file</name>
              <value>jcochran.rtf</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>resume_file</name>
              <value>
                <stringliteral>jcochran.rtf</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>resume_file</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>resume file "p1" with content:</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>resume_file</var>
              </value>
            </argument>
            <argument>
              <name>section_name</name>
              <value>
                <template>
                  <stringliteral>value</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>name</name>
              <value>
                <template>
                  <stringliteral>Jacque Cochran</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>email</name>
              <value>
                <template>
                  <stringliteral>SuperSonicGirl@gmail.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>location</name>
              <value>
                <template>
                  <stringliteral>10 airport dr, palm springs, ca, 90070</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>skills</name>
              <value>
                <template>
                  <stringliteral>everything</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>experience</name>
              <value>
                <template>
                  <stringliteral>In charge of the WASPs in WWII</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>education</name>
              <value>
                <template>
                  <stringliteral>self taught</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>patents</name>
              <value>
                <template>
                  <stringliteral>woman pilot training program</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>awards</name>
              <value>
                <template>
                  <stringliteral>presidential medal of freedom</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>competencies</name>
              <value>
                <template>
                  <stringliteral>flying, chemistry, philosophy</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>we need to cleanse the resume</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>you should have a newly rendered and cleansed PDF with the content above</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Successfully grant tenant access to non-admins</name>
      <uid>430832c1-a649-426a-a377-103c73fa9d3d</uid>
      <folderUid>f628ea3f-1a93-4c97-a3a0-cc40ededb505</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>fff28441-f01e-4100-a926-78f051117644</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>druzilla@zoo.com</value>
            </data>
            <data>
              <name>grantee</name>
              <value>shrek@zoo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>druzilla@zoo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee</name>
              <value>
                <stringliteral>shrek@zoo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>20feb8a0-8fc6-46f2-b651-670fec696d06</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>gordo@foo.com</value>
            </data>
            <data>
              <name>grantee</name>
              <value>shrek@zoo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>gordo@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee</name>
              <value>
                <stringliteral>shrek@zoo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>36c14600-053b-4c1e-bb6e-698a2ca79aaf</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>cruella@moo.com</value>
            </data>
            <data>
              <name>grantee</name>
              <value>fiona@moo.com</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>cruella@moo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee</name>
              <value>
                <stringliteral>fiona@moo.com</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>granter</name>
        </parameter>
        <parameter>
          <name>grantee</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>"p1" wants to provide read-only access privileges to "p2" for foo.com</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>granter</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>grantee</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should see a successful grant of priveleges</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Decline tenant access when the granter does not have read-write privs to a non-native tenant they are attempting to grant access to</name>
      <uid>ee01df2e-e44c-489d-8d6d-366410857de2</uid>
      <folderUid>f628ea3f-1a93-4c97-a3a0-cc40ededb505</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>anna@roo.com wants to provide tenant access to shrek@zoo.com for foo.com</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>you should decline privelege request</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Decline tenant access when the granter does not have read-write privs on the grantee's tenant</name>
      <uid>4443004d-9408-401f-a417-634c11375386</uid>
      <folderUid>f628ea3f-1a93-4c97-a3a0-cc40ededb505</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>elsa@soo.com wants to provide tenant access to shrek@zoo.com for foo.com</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>you should decline privelege request</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>autolink a new user</name>
      <uid>8c352f67-bee0-4f3a-ab55-e6085bebc9b9</uid>
      <folderUid>d11c7903-c1c6-4a91-949a-2f0a3f0af9c9</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>a new user joe@foo.com</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>joe@foo.com successfully created a unitive account</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>foo.com is a valid unitive tenant</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>foo.com has the auto-link flag set for the tenant</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>joe@foo.com's unitive account should have been  successfully created</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>joe@foo.com should be linked to tenant foo.com</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>autolink an existing user</name>
      <uid>ce6589a3-6d99-46f8-8d52-f1edf453f315</uid>
      <folderUid>d11c7903-c1c6-4a91-949a-2f0a3f0af9c9</folderUid>
      <order_in_parent>0</order_in_parent>
      <steps>
        <call>
          <actionword>an existing user joe@bar.com</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>joe@bar.com successfully added joe@foo.com to his account</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>foo.com is a valid unitive tenant</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>foo.com has the auto-link flag set for the tenant</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>joe@foo.com is successfully added to joe@bar.com's unitive account</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>joe@foo.com should be linked to tenant foo.com</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>grant tenant access to another tenant's data</name>
      <uid>358a6439-8bfa-489c-bdea-3026924d20ea</uid>
      <folderUid>27c15d77-e2f8-499d-ad90-aeb4b6e006a6</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>ae09d0a5-0411-46a9-b754-fa50c1a89396</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>gordo@foo.com</value>
            </data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>gordo@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>c62f0e81-3186-4328-8036-29b59a9fdba0</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>sally@bar.com</value>
            </data>
            <data>
              <name>access_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>sally@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>60dfc8ae-4e2e-47e3-9b11-cd099ea02311</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>gordo@foo.com</value>
            </data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-write</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>gordo@foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-write</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>6faf1754-97c3-4143-af56-f59fd44660a1</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>sally@bar.com</value>
            </data>
            <data>
              <name>access_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-write</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>sally@bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-write</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>41f389ef-7f74-4225-8f68-685cff235988</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>druzilla@zoo.com</value>
            </data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-write</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>druzilla@zoo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-write</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>1aaf5c46-a39a-47f0-b6db-263fa7d98cb2</datasetUid>
          <raw_data>
            <data>
              <name>granter</name>
              <value>druzilla@zoo.com</value>
            </data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>granter</name>
              <value>
                <stringliteral>druzilla@zoo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>granter</name>
        </parameter>
        <parameter>
          <name>access_tenant</name>
        </parameter>
        <parameter>
          <name>grantee_tenant</name>
        </parameter>
        <parameter>
          <name>access_rights</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>the following user information:</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>jane_foo_com</name>
              <value>
                <template>
                  <stringliteral>user</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>bill_bar_com</name>
              <value>
                <template>
                  <stringliteral>user</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>tenants information:</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>tenant</name>
              <value>
                <template>
                  <stringliteral>access tenants</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>foo_com</name>
              <value>
                <template/>
              </value>
            </argument>
            <argument>
              <name>bar_com</name>
              <value>
                <template/>
              </value>
            </argument>
            <argument>
              <name>zoo_com</name>
              <value>
                <template>
                  <stringliteral>foo.com-rw</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>moo_com</name>
              <value>
                <template>
                  <stringliteral>foo.com-ro</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"p1" wants to provide "p2" access privileges to "p3" for "p4"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <var>granter</var>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>access_rights</var>
              </value>
            </argument>
            <argument>
              <name>p3</name>
              <value>
                <var>grantee_tenant</var>
              </value>
            </argument>
            <argument>
              <name>p4</name>
              <value>
                <var>access_tenant</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should grant the requested privileges</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>deny tenant access to another tenant's data if the granter is not an admin</name>
      <uid>576b649f-d984-428a-b1ae-12d09de017bb</uid>
      <folderUid>27c15d77-e2f8-499d-ad90-aeb4b6e006a6</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>fd3a2998-ac80-41bc-9eb2-ed8d17d7157d</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>ff790988-7790-4c9b-829b-ee432a4eb786</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-write</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-write</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>4df71cfd-5eab-4076-8bb5-8b9d056c8621</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>goo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-write</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>goo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-write</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>05ffad1b-0452-4834-89a7-4fa02065693a</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>goo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>goo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>access_tenant</name>
        </parameter>
        <parameter>
          <name>grantee_tenant</name>
        </parameter>
        <parameter>
          <name>access_rights</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>user jane@foo.com who is not an admin</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>"p1" wants to provide "p2" access privileges to "p3" for "p4"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>jane@foo.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>access_rights</var>
              </value>
            </argument>
            <argument>
              <name>p3</name>
              <value>
                <var>grantee_tenant</var>
              </value>
            </argument>
            <argument>
              <name>p4</name>
              <value>
                <var>access_tenant</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should decline the request for tenant access</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>deny tenant access to another tenant's data</name>
      <uid>ec1ea138-042e-43cd-9cfb-07541cc97455</uid>
      <folderUid>27c15d77-e2f8-499d-ad90-aeb4b6e006a6</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name/>
          <datasetUid>b3f873fc-aa7a-4701-b612-28560ddf0e1b</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>06066a20-2a7d-47b8-8d35-fcaa865e8efb</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-write</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-write</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>2382bda4-eaf9-425d-ac25-64f139160a21</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-write</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-write</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name/>
          <datasetUid>c9b45e31-27ab-4ffd-81e9-352f7a7023cb</datasetUid>
          <raw_data>
            <data>
              <name>access_tenant</name>
              <value>bar.com</value>
            </data>
            <data>
              <name>grantee_tenant</name>
              <value>foo.com</value>
            </data>
            <data>
              <name>access_rights</name>
              <value>read-only</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>access_tenant</name>
              <value>
                <stringliteral>bar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>grantee_tenant</name>
              <value>
                <stringliteral>foo.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>access_rights</name>
              <value>
                <stringliteral>read-only</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>access_tenant</name>
        </parameter>
        <parameter>
          <name>grantee_tenant</name>
        </parameter>
        <parameter>
          <name>access_rights</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>admin "p1"</actionword>
          <annotation>given</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>user cruella@moo.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>tenant moo.com has read-write access rights to access tenant foo.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>tenant moo.com has read-only  access rights to access tenant bar.com</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>"p1" wants to provide "p2" access privileges to "p3" for "p4"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>p1</name>
              <value>
                <template>
                  <stringliteral>cruella@moo.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>p2</name>
              <value>
                <var>access_rights</var>
              </value>
            </argument>
            <argument>
              <name>p3</name>
              <value>
                <var>grantee_tenant</var>
              </value>
            </argument>
            <argument>
              <name>p4</name>
              <value>
                <var>access_tenant</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>you should decline the request for tenant access</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Authenticate user</name>
      <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      <folderUid>24421ed7-daa8-4b6b-96d6-37e0ad2d4cd1</folderUid>
      <order_in_parent>0</order_in_parent>
      <datatable>
        <dataset>
          <name>sully</name>
          <datasetUid>e847ab04-9bc6-426d-8ef5-195449f6bfa0</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>sully@pixar.com</value>
            </data>
            <data>
              <name>password</name>
              <value>monster</value>
            </data>
            <data>
              <name>result</name>
              <value>AUTH_OK</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>sully@pixar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>password</name>
              <value>
                <stringliteral>monster</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>AUTH_OK</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name>mater</name>
          <datasetUid>20d1ff3e-704e-40d5-865c-b1eb4a166314</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>mater@pixar.com</value>
            </data>
            <data>
              <name>password</name>
              <value>cars</value>
            </data>
            <data>
              <name>result</name>
              <value>AUTH_OK</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>mater@pixar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>password</name>
              <value>
                <stringliteral>cars</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>AUTH_OK</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name>zuck</name>
          <datasetUid>07acc886-934e-4c9d-81fb-58e14a136f30</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>zuck@fb.com</value>
            </data>
            <data>
              <name>password</name>
              <value>social</value>
            </data>
            <data>
              <name>result</name>
              <value>AUTH_OK</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>zuck@fb.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>password</name>
              <value>
                <stringliteral>social</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>AUTH_OK</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name>bad pwd</name>
          <datasetUid>9e3ea76d-ef12-4b6d-9d6d-142d24c6b749</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>zuch@fb.com</value>
            </data>
            <data>
              <name>password</name>
              <value>bogus</value>
            </data>
            <data>
              <name>result</name>
              <value>AUTH_ERROR</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>zuch@fb.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>password</name>
              <value>
                <stringliteral>bogus</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>AUTH_ERROR</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name>bad domain</name>
          <datasetUid>283e87b6-d34b-4b0d-8fea-ab53ac9aabed</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>joe@bogus.com</value>
            </data>
            <data>
              <name>password</name>
              <value>bogus</value>
            </data>
            <data>
              <name>result</name>
              <value>AUTH_ERROR</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>joe@bogus.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>password</name>
              <value>
                <stringliteral>bogus</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>AUTH_ERROR</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
        <parameter>
          <name>password</name>
        </parameter>
        <parameter>
          <name>result</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>setup valid domain list</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>setup valid user list</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>setup Unitive super-user list</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>user_email ${user_email} and password ${password}</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>user_email ${user_email} is on a valid domain</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>user clicks submit on the login page</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>the server should return ${result}</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Authenticate domain</name>
      <uid>3af54d6a-1b62-4ab6-9192-fa6c9df2c90d</uid>
      <folderUid>24421ed7-daa8-4b6b-96d6-37e0ad2d4cd1</folderUid>
      <order_in_parent>4194304</order_in_parent>
      <datatable>
        <dataset>
          <name>sully</name>
          <datasetUid>32a5202e-2e4e-4ca5-9886-7a6438341f80</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>sully@pixar.com</value>
            </data>
            <data>
              <name>result</name>
              <value>DOMAIN_OK</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>sully@pixar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>DOMAIN_OK</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name>mater</name>
          <datasetUid>34d2feda-1e08-4c28-a52c-a14718cd34ce</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>mater@pixar.com</value>
            </data>
            <data>
              <name>result</name>
              <value>DOMAIN_OK</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>mater@pixar.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>DOMAIN_OK</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name>bob</name>
          <datasetUid>d8a910f6-22de-411c-aa45-1837b83f8a06</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>bob@emc.com</value>
            </data>
            <data>
              <name>result</name>
              <value>DOMAIN_OK</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>bob@emc.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>DOMAIN_OK</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
        <dataset>
          <name>bad domain</name>
          <datasetUid>fa87589c-6f2e-48a1-91ef-b6f63f11c8d3</datasetUid>
          <raw_data>
            <data>
              <name>user_email</name>
              <value>joe@bogus.com</value>
            </data>
            <data>
              <name>result</name>
              <value>DOMAIN_ERROR</value>
            </data>
          </raw_data>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <stringliteral>joe@bogus.com</stringliteral>
              </value>
            </argument>
            <argument>
              <name>result</name>
              <value>
                <stringliteral>DOMAIN_ERROR</stringliteral>
              </value>
            </argument>
          </arguments>
        </dataset>
      </datatable>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
        <parameter>
          <name>result</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>setup valid domain list</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>user_email ${user_email}</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>the user clicks submit on the login page</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>you should get result ${result}</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Non-SAML Login</name>
      <uid>0e503654-fc84-4183-a8c4-e666401a09c2</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>3145728</order_in_parent>
      <description>As a user of a non-SAML Tenant
I want to have the usual Unitive login
so that I can still use the service.

This is likely a redundant test. 

Specifically logging in when SAML is not configured does not change behavior.
</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant not configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>existing user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" logs in</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>page "page_name" is presented.</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>page_name</name>
              <value>
                <template>
                  <stringliteral>result.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Non-SAML Session</name>
      <uid>52cabf92-e48b-4727-9697-021e948610c5</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>4194304</order_in_parent>
      <description>As a Unitive user
I want my session to continue to work in a non-SAML environment
so that SAML does not affect my ability to use Unitive.

This test may be redundant.

The intention of this test is to ensure that the SAML feature does not stop the ability to recognize the session information saved with a login.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>Given the tenant not configured for SAML an existing user "user_email" is logged in</actionword>
          <annotation/>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" accesses "page"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>page</name>
              <value>
                <template>
                  <stringliteral>page.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"page" is returned.</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>page</name>
              <value>
                <template>
                  <stringliteral>page.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Configure tenant for SAML</name>
      <uid>5196f7ea-0cc4-450b-8787-ef53f9074641</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>7798784</order_in_parent>
      <description>As a Unitive Customer Administrator 
I want to configure the SAML IDP information for Unitive
so that Unitive uses uses SAML to authenticate users.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant not configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>admin user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>angela@u.w</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" logs in</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>angela@u.w</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>SAML IDP information is submitted to "page"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>page</name>
              <value>
                <template>
                  <stringliteral>saml.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>result code "result_code" is returned</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>result_code</name>
              <value>
                <template>
                  <stringliteral>200</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Non-SAML One-Time User Login</name>
      <uid>6955a64f-1dae-411a-9556-bde0ff840271</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>7340032</order_in_parent>
      <description>As a one-time user on a non-SAML tenant
I want to be be able to login to the Unitive
so that I can continue using the service.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant not configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>a one-time user credential</actionword>
          <annotation>and</annotation>
        </call>
        <call>
          <actionword>the one-time user logs in</actionword>
          <annotation>when</annotation>
        </call>
        <call>
          <actionword>the one-time user page is presented.</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>SAML Super user login</name>
      <uid>ee4b278a-9357-45ef-948a-fdbc53becacd</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>8380416</order_in_parent>
      <description>As a Unitive Company Administrator
I want to be able to login to a SAML tenant 
so that I can perform maintenance functions and examine the tenant.
</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>existing super user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>angela@u.w</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" logs in</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>angela@u.w</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" is logged in</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>angela@u.w</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>SAML Session Detection</name>
      <uid>ab834831-c23e-426c-bdb9-a38f5bcd5381</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>8257536</order_in_parent>
      <description>AS a user of a SAML Tenant
I want my logged in session to be recognized
so that I can continue to use the service.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>existing user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" logs in with SAML</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" accesses "page_name"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>page_name</name>
              <value>
                <template>
                  <stringliteral>page.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"page" is returned.</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>page</name>
              <value>
                <template>
                  <stringliteral>page.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>SAML Login Redirect</name>
      <uid>20a95fc7-67fb-46ee-aa66-5afd9ad1b1c5</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>8323072</order_in_parent>
      <description>As a Unitive user of a SAML tenant
I want Unitive to redirect to the SAML URL when I am not logged in
so that I can use my SAML SSO credentials with Unitive.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>existing user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" is not logged in</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" accesses "page_name"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>page_name</name>
              <value>
                <template>
                  <stringliteral>page.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a redirect to the SAML IDP URL returned</actionword>
          <annotation>then</annotation>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>SAML Login Acceptance for Existing User</name>
      <uid>935a4d73-6c91-4a82-aa65-b5a94dfef58c</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>8355840</order_in_parent>
      <description>As a Untiive user of a SAML tenant site
I want to be able to login using my SAML credentials
so that I can continue to use Unitive.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>existing user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a SAML POST response for "user_name" is sent to "page"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_name</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>page</name>
              <value>
                <template>
                  <stringliteral>saml.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" is logged in</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>SAML Login Acceptance for New User</name>
      <uid>57cb3a4b-b59a-4af3-a903-32a30588786e</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>8372224</order_in_parent>
      <description>As a Unitive user of a SAML tenant 
I want to be able to create new users from my SAML credentials
so that I can use the Unitive service.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>user "user_email" with no account</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a SAML POST response for "user_name" is sent to "page"</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_name</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
            <argument>
              <name>page</name>
              <value>
                <template>
                  <stringliteral>saml.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>user account "user_email" is created</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" is logged in</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>Set view as user</name>
      <uid>83d7b8fc-1dbd-4702-a410-74fe83b6d095</uid>
      <folderUid>b22c0f71-9cde-4f08-90be-87b07248d9f7</folderUid>
      <order_in_parent>0</order_in_parent>
    </scenario>
    <scenario>
      <name>Set view as admin</name>
      <uid>bf001626-84e3-47fc-b0ef-6d9ae6143796</uid>
      <folderUid>b22c0f71-9cde-4f08-90be-87b07248d9f7</folderUid>
      <order_in_parent>4194304</order_in_parent>
    </scenario>
    <scenario>
      <name>SAML Non-Super user login</name>
      <uid>53de3410-0220-42ac-82c6-2f95b13fca64</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>8384512</order_in_parent>
      <description>As a user of a SAML tenant site
I want to be prevented from logging in without using SAML
so that I must authenticate using the SAML IDP in order to use the service.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>existing user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" is not a super user</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" logs in</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>john@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" is not logged in</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>p1</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>result code "result_code" is returned</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>result_code</name>
              <value>
                <template>
                  <stringliteral>401</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
    </scenario>
    <scenario>
      <name>SAML Don't Redirect On Logout</name>
      <uid>0a370861-4d4f-4d48-b04d-d54bbe265924</uid>
      <folderUid>bde91428-1b19-492a-8a3e-3f75ecc020f4</folderUid>
      <order_in_parent>8386560</order_in_parent>
      <description>As a Unitive user
I want to logout of Unitive and not be immediately logged back in
so that I can be assured that I have logged out of Unitive.</description>
      <tags>
        <tag>
          <key>server-functional</key>
        </tag>
      </tags>
      <steps>
        <call>
          <actionword>the tenant configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>"user_email" is logged in</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>joe@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" logs out</actionword>
          <annotation>when</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <template>
                  <stringliteral>joe@domain.com</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>a redirect to "page" occurs</actionword>
          <annotation>then</annotation>
          <arguments>
            <argument>
              <name>page</name>
              <value>
                <template>
                  <stringliteral>logout.html</stringliteral>
                </template>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>no other redirects occur</actionword>
          <annotation>and</annotation>
        </call>
      </steps>
    </scenario>
  </scenarios>
  <actionwords>
    <actionword>
      <name>admin "p1"</name>
      <uid>394d8472-4c20-4ad4-8c22-14d48783cfb0</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>27a734c8-32fa-4ada-8b51-480008381b09</uid>
        <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
        <uid>4d8b0395-4db2-426f-8f2b-1bc36df411c9</uid>
        <uid>dc637fd5-f153-4818-aaf2-2605482f69f5</uid>
        <uid>ec1ea138-042e-43cd-9cfb-07541cc97455</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"user" has read-write privileges to tenant "tenant"</name>
      <uid>35bd241c-af37-4d5f-8b7e-88551fab92f0</uid>
      <parameters>
        <parameter>
          <name>user</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>tenant</name>
        </parameter>
      </parameters>
      <callers>
        <uid>27a734c8-32fa-4ada-8b51-480008381b09</uid>
        <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
        <uid>4d8b0395-4db2-426f-8f2b-1bc36df411c9</uid>
        <uid>dc637fd5-f153-4818-aaf2-2605482f69f5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a valid unitive user "p1"</name>
      <uid>a7e84434-4623-4023-8347-0a3da6954f60</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>27a734c8-32fa-4ada-8b51-480008381b09</uid>
        <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
        <uid>4d8b0395-4db2-426f-8f2b-1bc36df411c9</uid>
        <uid>dc637fd5-f153-4818-aaf2-2605482f69f5</uid>
        <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
        <uid>9d6bf648-e47c-456c-b876-603918ef0f7c</uid>
        <uid>1d993428-7452-41c4-8012-a4ecb4973524</uid>
        <uid>40e8ca1d-c549-44ac-b566-bf03bd381773</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user "p1" is currently linked to tenant foo.com</name>
      <uid>21ba68e5-7695-41d8-b2c4-7fca76b3e5b8</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>27a734c8-32fa-4ada-8b51-480008381b09</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests unlinking "p2" from tenant foo.com</name>
      <uid>e9099691-b2ba-49b0-8776-989914fc5998</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>27a734c8-32fa-4ada-8b51-480008381b09</uid>
        <uid>40e8ca1d-c549-44ac-b566-bf03bd381773</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should unlink "p1" from foo.com</name>
      <uid>5a7bf59a-cc11-48f8-a341-f62af11c4a5b</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>27a734c8-32fa-4ada-8b51-480008381b09</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a valid unitive account "p1"</name>
      <uid>9580805b-73f2-4ee3-9f09-07a3c1529a82</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>1d993428-7452-41c4-8012-a4ecb4973524</uid>
        <uid>40e8ca1d-c549-44ac-b566-bf03bd381773</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" does not have read-write admin privileges to foo.com</name>
      <uid>8f883d4a-6af8-4381-bc16-410bfba4d926</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>1d993428-7452-41c4-8012-a4ecb4973524</uid>
        <uid>40e8ca1d-c549-44ac-b566-bf03bd381773</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should deny the unlinking and return an error of ERROR_PRIVILEGE</name>
      <uid>176a520f-796d-4917-88bb-1b70311ff642</uid>
      <callers>
        <uid>40e8ca1d-c549-44ac-b566-bf03bd381773</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests linking "p2" with tenant foo.com in user role</name>
      <uid>aaa779ef-6933-4ba7-b349-4950beace77d</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>4d8b0395-4db2-426f-8f2b-1bc36df411c9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should link "p1" to foo.com</name>
      <uid>8e7785af-332b-44db-9ace-6bac3e6fd8fb</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
        <uid>4d8b0395-4db2-426f-8f2b-1bc36df411c9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" should have the role of user</name>
      <uid>82b89f8f-6f60-4210-bc3d-4e3a8123367f</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>4d8b0395-4db2-426f-8f2b-1bc36df411c9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" has an email address attached to their account with email domain foo.com</name>
      <uid>f3e57452-35b7-44c2-a092-d16ab68f6100</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests linking "p2" with tenant foo.com as an admin</name>
      <uid>71408008-8624-47c1-9106-c6247de09966</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
        <uid>dc637fd5-f153-4818-aaf2-2605482f69f5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" should have the role of admin</name>
      <uid>1b69fa62-5a47-42ea-b0f1-a275058a10c0</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>84f93a97-6807-4c81-b84e-4f54929874a6</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests linking "p2" with tenant foo.com in a user role</name>
      <uid>cbbd2f70-d5ab-46e3-8b67-a210db079e26</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>1d993428-7452-41c4-8012-a4ecb4973524</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should deny the linking and return an error of ERROR_PRIVILEGE</name>
      <uid>04594015-4480-4351-b552-adf3da813bbd</uid>
      <callers>
        <uid>1d993428-7452-41c4-8012-a4ecb4973524</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" does nto have an email address attached to their account with email domain foo.com</name>
      <uid>6899f117-6f2b-420e-8e92-3a4ec513bc36</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>dc637fd5-f153-4818-aaf2-2605482f69f5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should deny the linking and return an error of ERROR_NO_TENANT_EMAIL</name>
      <uid>c9e32671-39bd-47ff-8c3b-22424570afba</uid>
      <callers>
        <uid>dc637fd5-f153-4818-aaf2-2605482f69f5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a foo.com admin "p1"</name>
      <uid>27185151-d4d7-4701-957f-071e7d28364d</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>48ba211d-37f8-4237-b88f-9969ece98652</uid>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
        <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
        <uid>9e74aa8f-8ca8-4dd8-ad1a-ba230dac25db</uid>
        <uid>f825ef07-b4db-4218-aff6-911dbda0eec1</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" has read-write privileges on tenant foo.com</name>
      <uid>09af3ad1-b4e8-4d72-a008-794bf11dcee3</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
        <uid>f825ef07-b4db-4218-aff6-911dbda0eec1</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user fred@foo.com</name>
      <uid>c5752b48-bcd3-48eb-b973-62e9fc98e55b</uid>
      <callers>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
        <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
        <uid>9e74aa8f-8ca8-4dd8-ad1a-ba230dac25db</uid>
        <uid>f825ef07-b4db-4218-aff6-911dbda0eec1</uid>
      </callers>
    </actionword>
    <actionword>
      <name>fred@foo.com is linked to tenant foo.com</name>
      <uid>4208b732-f684-42b9-a011-2371ab43e7e9</uid>
      <callers>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
        <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
        <uid>9e74aa8f-8ca8-4dd8-ad1a-ba230dac25db</uid>
        <uid>f825ef07-b4db-4218-aff6-911dbda0eec1</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests to promote user fred@foo.com to admin</name>
      <uid>6d2e2124-2cec-4928-a616-cca804d4747e</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>9e74aa8f-8ca8-4dd8-ad1a-ba230dac25db</uid>
        <uid>f825ef07-b4db-4218-aff6-911dbda0eec1</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should promote fred@foo.com to an admin for tenant foo.com</name>
      <uid>c9226233-26d1-4732-9cc1-9cbbe6b0b60e</uid>
      <callers>
        <uid>f825ef07-b4db-4218-aff6-911dbda0eec1</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" DOES NOT HAVE read-write privileges on tenant foo.com</name>
      <uid>4a05e3dc-aff6-40cc-b9d3-ebdb6bbbd22a</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
        <uid>9e74aa8f-8ca8-4dd8-ad1a-ba230dac25db</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should deny the promotion and return error ERROR_PRIVILEGE</name>
      <uid>57f70f39-0cb6-46e1-98bb-b4b42d16d1fa</uid>
      <callers>
        <uid>9e74aa8f-8ca8-4dd8-ad1a-ba230dac25db</uid>
      </callers>
    </actionword>
    <actionword>
      <name>fred@foo.com is an admin on tenant foo.com</name>
      <uid>586a0f47-98ab-4d9d-855e-a7e49977f981</uid>
      <callers>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
        <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests to demote admin fred@foo.com to regular user</name>
      <uid>4b3374cc-86f9-4886-9551-d8efccbf7cfb</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should demote fred@foo.com to a regular user for tenant foo.com</name>
      <uid>f2821e36-4394-4add-95ad-7c59e7eb5da0</uid>
      <callers>
        <uid>ee845d6a-4691-4879-8fa7-5129ade253f6</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests to demote fred@foo.com to regular user</name>
      <uid>6bb565e3-98de-4410-b833-be19c59c58ca</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should deny the demotion</name>
      <uid>5c916670-db16-4151-9170-7fa4a58b5c0b</uid>
      <callers>
        <uid>48ba211d-37f8-4237-b88f-9969ece98652</uid>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
      </callers>
    </actionword>
    <actionword>
      <name>return error ERROR_PRIVILEGE</name>
      <uid>5067e189-8137-49ea-9a3a-2c851302ea83</uid>
      <callers>
        <uid>2c6f7525-cc91-489a-ac79-c850b9f12685</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@foo.com tries to demote himself</name>
      <uid>a3ef2db0-ee56-4efc-9f4b-71195dd2cd89</uid>
      <callers>
        <uid>48ba211d-37f8-4237-b88f-9969ece98652</uid>
      </callers>
    </actionword>
    <actionword>
      <name>return error ERROR_SELF_HARM</name>
      <uid>c8fe2698-5c94-455c-a422-35fd223f9379</uid>
      <callers>
        <uid>48ba211d-37f8-4237-b88f-9969ece98652</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a user's name John Doe</name>
      <uid>a04dc331-d9dd-4734-b25f-c686d149fd3a</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
        <uid>fb5c6e58-e0b4-4a3b-80da-7bfe6eee8445</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a user's email address john.doe@gmail.com</name>
      <uid>600e2df2-70ae-481d-9c92-22afec7aac94</uid>
      <callers>
        <uid>fb5c6e58-e0b4-4a3b-80da-7bfe6eee8445</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the user does not specify a tenant</name>
      <uid>3fd772ff-040a-4ef4-b826-f2c06a86da8d</uid>
      <callers>
        <uid>fb5c6e58-e0b4-4a3b-80da-7bfe6eee8445</uid>
      </callers>
    </actionword>
    <actionword>
      <name>John Doe requests a new Unitive account</name>
      <uid>ffffe19d-92ef-4cf5-9edb-a32679ba2870</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
        <uid>fb5c6e58-e0b4-4a3b-80da-7bfe6eee8445</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should create a new Unitive user account for john.doe@gmail.com</name>
      <uid>4410dcb2-d4b4-47c0-a2eb-ed527fc9bdc2</uid>
      <callers>
        <uid>fb5c6e58-e0b4-4a3b-80da-7bfe6eee8445</uid>
      </callers>
    </actionword>
    <actionword>
      <name>john.doe@gmail.com should be assigned to a 'user-unique-tenant'</name>
      <uid>da80361d-06d5-4b2c-bd18-9160907b9edb</uid>
      <callers>
        <uid>fb5c6e58-e0b4-4a3b-80da-7bfe6eee8445</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a user's email address john.doe@newtenantdomain.com</name>
      <uid>4dce7b53-3c34-47e6-b7be-251dd777950f</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>newtenantdomain.com is not a tenant domain already registered with Unitive</name>
      <uid>e2f02ed5-58a4-46ed-a3aa-412870c9e4d5</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>newtenantdomain.com is not known as a free email domain</name>
      <uid>471313a2-e08b-4335-8992-0f5f9af20438</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should create a new Unitive user account for john.doe@newtenantdomain.com</name>
      <uid>a3a94dc3-e4da-461a-a6e5-3c79cb3a872b</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should create a new tenant for newtenantdomain.com</name>
      <uid>e65d7fd2-60f7-4d71-8265-e93808651bfa</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should link john.doe@newtenantdomain.com to tenant newtenantdomain.com</name>
      <uid>040b156e-98b4-40a1-8527-735c4712987b</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should make john.doe@newtenantdomain.com an admin for tenant newtenantdomain.com</name>
      <uid>835faa8d-4ba9-4169-a884-68405c247fd4</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>john.doe@newtenantdomain.com should be assigned to a 'user-unique-tenant'</name>
      <uid>dcaeb533-3713-4bd9-9218-bff71fc83bf8</uid>
      <callers>
        <uid>114ea55e-496b-459e-afd2-b91d05398a1a</uid>
      </callers>
    </actionword>
    <actionword>
      <name>an admin "p1"</name>
      <uid>41168fdc-0a42-4fa8-9157-dd086a6e7309</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a new user's name "p1"</name>
      <uid>8e0c0c1b-346f-4ec0-b44d-17a28549fa7c</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>9d26caa6-a4ca-4788-b983-4a99932ed543</uid>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a new user's email address "p1"</name>
      <uid>6e8fcdd1-149c-4564-8a9f-93c94071b685</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>9d26caa6-a4ca-4788-b983-4a99932ed543</uid>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>and a valid tenant foo.com</name>
      <uid>3781ea09-0751-4e0a-ad60-25c9cfd2a5c5</uid>
      <callers>
        <uid>9d26caa6-a4ca-4788-b983-4a99932ed543</uid>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" has admin read-write privileges on foo.com</name>
      <uid>df34a864-6cc4-49f1-a700-4d10d8549983</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" requests a new account for "p2"</name>
      <uid>dfad0221-13f1-4778-9a50-683e5135ff4b</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>9d26caa6-a4ca-4788-b983-4a99932ed543</uid>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should create a new Unitive user account for "p1"</name>
      <uid>4ee89b3d-afb5-422d-9776-79922343e653</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" should be linked to foo.com</name>
      <uid>4cf3d3b7-9287-420c-a431-f23007130608</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" should be assigned to a 'user-unique-tenant'</name>
      <uid>557cd2b9-2628-4657-bf18-ee58bf35457a</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>6134844a-4648-41e5-a727-20050dc5d9a2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user "p1" with foo.com tenant privileges "p2"</name>
      <uid>a04ed990-9c0d-4893-9df6-8521356840c4</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>9d26caa6-a4ca-4788-b983-4a99932ed543</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should deny the request with an error_no_privilege</name>
      <uid>ce3757e1-971b-49c9-986f-bc3793dae47d</uid>
      <callers>
        <uid>9d26caa6-a4ca-4788-b983-4a99932ed543</uid>
      </callers>
    </actionword>
    <actionword>
      <name>and a new email address for that user, joe@bar.com</name>
      <uid>924798b0-f5ae-4970-a548-3547fab7a473</uid>
      <callers>
        <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
        <uid>9d6bf648-e47c-456c-b876-603918ef0f7c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the email address, joe@bar.com, can be verified by the user</name>
      <uid>18e99cf1-c032-4031-8f25-708cdbe54c46</uid>
      <callers>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
        <uid>9d6bf648-e47c-456c-b876-603918ef0f7c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>bar.com is already attached to an existing unitive tenant</name>
      <uid>a6cf17e3-a2b6-4c24-a402-5ade31d66c28</uid>
      <callers>
        <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
        <uid>9d6bf648-e47c-456c-b876-603918ef0f7c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@foo.com requests adding joe@bar.com to their account</name>
      <uid>5743b150-be9e-4e1e-a4c1-93ea96b8dfe1</uid>
      <callers>
        <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
        <uid>9d6bf648-e47c-456c-b876-603918ef0f7c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>email address joe@bar.com should be attached to user joe@foo.com's account</name>
      <uid>17f46882-5aae-4245-abb4-f3eea603ece6</uid>
      <callers>
        <uid>9d6bf648-e47c-456c-b876-603918ef0f7c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a new email address for that user, joe@bar.com</name>
      <uid>11425d8e-5b3e-4681-818b-0675abd726e6</uid>
      <callers>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
      </callers>
    </actionword>
    <actionword>
      <name>bar.com has been conifgured to auto-link users with valid bar.com email addresses</name>
      <uid>4bfa7ce2-dbab-48b0-84ff-57eb028f97c6</uid>
      <callers>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
      </callers>
    </actionword>
    <actionword>
      <name>attach email address joe@bar.com to user joe@foo.com's account</name>
      <uid>2baf8f62-f151-4e79-abab-b0a19d864fe7</uid>
      <callers>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
      </callers>
    </actionword>
    <actionword>
      <name>link joe@bar.com to tenant bar.com</name>
      <uid>8f098ca0-4549-40a4-9e48-7919ac6d9c27</uid>
      <callers>
        <uid>2386ff70-4573-4532-8ed5-788e4945d626</uid>
      </callers>
    </actionword>
    <actionword>
      <name>and a new email address for that user, joe@newtenantdomain.com</name>
      <uid>aa479e3a-eb24-4b7b-b5f8-feb2ab9763fe</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the email address, joe@newtenantdomain.com, can be verified by the user</name>
      <uid>a95e795d-9b03-4a47-b577-355ae2391ebb</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>newtenantdomain.com is not yet an existing unitive tenant domain</name>
      <uid>3badfa57-61a8-4fdd-9f4a-e4e496adf98f</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@foo.com requests adding joe@newtenantdomain.com to their account</name>
      <uid>d2342d93-063b-4f09-bb3e-ae46e2085dee</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>email address joe@newtenantdomain.com should be attached to user joe@foo.com's account</name>
      <uid>f83dd4bd-8443-4069-9e77-8c7d1157cd9e</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>new tenant, newtenantdomain.com, shoudl be created</name>
      <uid>1f44fc85-3c59-49d3-880a-80bb3767c588</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@newtenantdomain.com should be linked to tenant newtenantdomain.com</name>
      <uid>5137d115-8482-4ed4-85fb-e17a8fe7b710</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@newtenantdomain.com should now be an admin for tenant newtenantdomain.com</name>
      <uid>e243357a-2022-4899-8824-3d5567c3add2</uid>
      <callers>
        <uid>154a868f-1088-40d0-afdb-aebe50158e7f</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the email address, joe@bar.com, CANNOT be verified by the user</name>
      <uid>b8cf8b1a-ea32-4d5a-a380-d44ea420a826</uid>
      <callers>
        <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the email address should not be linked to the user account</name>
      <uid>d55897cd-ae93-49b4-b769-ed219b050d78</uid>
      <callers>
        <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the new email address should remain in an incomplete state</name>
      <uid>7480f858-c5e0-48bd-bebd-6d173d5542dd</uid>
      <callers>
        <uid>48eda422-c43d-48f8-ab36-eb8a25746283</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" resume file with content:</name>
      <uid>4bcbfed6-644a-4f8e-80d5-5326daf49234</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>a1b1ca0b-4433-4cac-afff-e5f428910c5c</uid>
        <uid>9d324f4a-134e-4968-8561-251ab8942bdd</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the resume is parsed</name>
      <uid>c4cbc7e2-336f-40f8-adf3-91bd9dde9416</uid>
      <callers>
        <uid>1ab4cec4-99f1-4333-951a-bb816f34caf6</uid>
        <uid>bcb5434c-028d-41ef-b08d-705e8151e356</uid>
        <uid>a1b1ca0b-4433-4cac-afff-e5f428910c5c</uid>
        <uid>9d324f4a-134e-4968-8561-251ab8942bdd</uid>
      </callers>
    </actionword>
    <actionword>
      <name>we should have the following content sections as results:</name>
      <uid>fc5a5e48-438a-4710-b36e-f1ba0bacb6de</uid>
      <parameters>
        <parameter>
          <name>section_name</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>name</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>email</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>location</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>skills</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>experience</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>education</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>patents</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>awards</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>competencies</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>Section_name</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>1ab4cec4-99f1-4333-951a-bb816f34caf6</uid>
        <uid>a1b1ca0b-4433-4cac-afff-e5f428910c5c</uid>
        <uid>9d324f4a-134e-4968-8561-251ab8942bdd</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a valid "p1" resume with content:</name>
      <uid>f4f7b8c6-a5ca-492b-b6b0-9bd4b0ae0c64</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>bcb5434c-028d-41ef-b08d-705e8151e356</uid>
      </callers>
    </actionword>
    <actionword>
      <name>no name on the resume</name>
      <uid>f2a94aad-4f7d-4566-a79e-48619126e8bd</uid>
      <callers>
        <uid>bcb5434c-028d-41ef-b08d-705e8151e356</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the result should be an error</name>
      <uid>7fc98f9b-8ecc-41d9-a49c-23a4b4501c74</uid>
      <callers>
        <uid>bcb5434c-028d-41ef-b08d-705e8151e356</uid>
      </callers>
    </actionword>
    <actionword>
      <name>Laura Mather's LinkedIn profile with content:</name>
      <uid>9ac8d264-88df-415c-9c62-7b0503130d56</uid>
      <callers>
        <uid>1ab4cec4-99f1-4333-951a-bb816f34caf6</uid>
      </callers>
    </actionword>
    <actionword>
      <name>resume file "p1" with content:</name>
      <uid>a88e016f-b833-4073-9358-b5d5bab21c2f</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>section_name</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>name</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>email</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>location</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>skills</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>experience</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>education</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>patents</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>awards</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>competencies</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>84f61145-db45-4011-aa1a-6f6ab7f12c68</uid>
      </callers>
    </actionword>
    <actionword>
      <name>we need to cleanse the resume</name>
      <uid>f6701d40-07bd-4555-916e-571d0f71af73</uid>
      <callers>
        <uid>84f61145-db45-4011-aa1a-6f6ab7f12c68</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should have a newly rendered and cleansed PDF with the content above</name>
      <uid>4e88eab4-76d6-4143-81cd-c12247248583</uid>
      <callers>
        <uid>84f61145-db45-4011-aa1a-6f6ab7f12c68</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" wants to provide read-only access privileges to "p2" for foo.com</name>
      <uid>1d4b660b-84ef-45a5-8dd0-43cda3ebb916</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>430832c1-a649-426a-a377-103c73fa9d3d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should see a successful grant of priveleges</name>
      <uid>019df2e5-9f38-496d-8ce4-d8dd47855339</uid>
      <callers>
        <uid>430832c1-a649-426a-a377-103c73fa9d3d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>anna@roo.com wants to provide tenant access to shrek@zoo.com for foo.com</name>
      <uid>86e9c3d6-b2cb-4de3-b372-f7882c6f4c7a</uid>
      <callers>
        <uid>ee01df2e-e44c-489d-8d6d-366410857de2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should decline privelege request</name>
      <uid>12888d23-7833-4b96-bb5a-4a9a9699c4ad</uid>
      <callers>
        <uid>4443004d-9408-401f-a417-634c11375386</uid>
        <uid>ee01df2e-e44c-489d-8d6d-366410857de2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>elsa@soo.com wants to provide tenant access to shrek@zoo.com for foo.com</name>
      <uid>28d9146e-dd6a-4ff2-8415-1ec8848e17b0</uid>
      <callers>
        <uid>4443004d-9408-401f-a417-634c11375386</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a new user joe@foo.com</name>
      <uid>1449d68e-8308-4948-930b-1fce1b10e1e5</uid>
      <callers>
        <uid>8c352f67-bee0-4f3a-ab55-e6085bebc9b9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@foo.com successfully created a unitive account</name>
      <uid>ba4d6b42-ff55-4921-8e12-0f14e75387a1</uid>
      <callers>
        <uid>8c352f67-bee0-4f3a-ab55-e6085bebc9b9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>foo.com is a valid unitive tenant</name>
      <uid>75eae935-9b3f-44cb-a66d-34e885e1b875</uid>
      <callers>
        <uid>ce6589a3-6d99-46f8-8d52-f1edf453f315</uid>
        <uid>8c352f67-bee0-4f3a-ab55-e6085bebc9b9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>foo.com has the auto-link flag set for the tenant</name>
      <uid>0b16a4d4-6e4a-438d-a65c-52049590d2bb</uid>
      <callers>
        <uid>ce6589a3-6d99-46f8-8d52-f1edf453f315</uid>
        <uid>8c352f67-bee0-4f3a-ab55-e6085bebc9b9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@foo.com's unitive account should have been  successfully created</name>
      <uid>df4226e4-a365-415e-9031-2ea3eb7f71e8</uid>
      <callers>
        <uid>8c352f67-bee0-4f3a-ab55-e6085bebc9b9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@foo.com should be linked to tenant foo.com</name>
      <uid>fea12dbe-6005-4c22-850d-19a1745890ac</uid>
      <callers>
        <uid>ce6589a3-6d99-46f8-8d52-f1edf453f315</uid>
        <uid>8c352f67-bee0-4f3a-ab55-e6085bebc9b9</uid>
      </callers>
    </actionword>
    <actionword>
      <name>an existing user joe@bar.com</name>
      <uid>9cb13623-df77-4a79-b209-c0d46a33dcdc</uid>
      <callers>
        <uid>ce6589a3-6d99-46f8-8d52-f1edf453f315</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@bar.com successfully added joe@foo.com to his account</name>
      <uid>aae4677a-2a4a-4f55-8f92-3384603cd626</uid>
      <callers>
        <uid>ce6589a3-6d99-46f8-8d52-f1edf453f315</uid>
      </callers>
    </actionword>
    <actionword>
      <name>joe@foo.com is successfully added to joe@bar.com's unitive account</name>
      <uid>e78536d1-1876-408e-bcde-03a1731c370e</uid>
      <callers>
        <uid>ce6589a3-6d99-46f8-8d52-f1edf453f315</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the following user information:</name>
      <uid>c9c76a95-1f6d-4792-b507-43bd1ab64d8e</uid>
      <callers>
        <uid>358a6439-8bfa-489c-bdea-3026924d20ea</uid>
      </callers>
    </actionword>
    <actionword>
      <name>tenants information:</name>
      <uid>8abf02a7-0dd9-46af-bc69-f456701958ac</uid>
      <parameters>
        <parameter>
          <name>tenant</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>foo_com</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>bar_com</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>zoo_com</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>moo_com</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>358a6439-8bfa-489c-bdea-3026924d20ea</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1" wants to provide "p2" access privileges to "p3" for "p4"</name>
      <uid>a30921ab-a784-4706-8b7f-28ffc9ead4b6</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p2</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p3</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
        <parameter>
          <name>p4</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>358a6439-8bfa-489c-bdea-3026924d20ea</uid>
        <uid>ec1ea138-042e-43cd-9cfb-07541cc97455</uid>
        <uid>576b649f-d984-428a-b1ae-12d09de017bb</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should grant the requested privileges</name>
      <uid>7df79930-7c2b-4de7-b47f-080af3ebc086</uid>
      <callers>
        <uid>358a6439-8bfa-489c-bdea-3026924d20ea</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user jane@foo.com who is not an admin</name>
      <uid>ed2c4de5-63fc-4336-bd21-c9b2b5707622</uid>
      <callers>
        <uid>576b649f-d984-428a-b1ae-12d09de017bb</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should decline the request for tenant access</name>
      <uid>ed936b26-53e8-4c58-a587-8503e1e50f2c</uid>
      <callers>
        <uid>ec1ea138-042e-43cd-9cfb-07541cc97455</uid>
        <uid>576b649f-d984-428a-b1ae-12d09de017bb</uid>
      </callers>
    </actionword>
    <actionword>
      <name>tenant moo.com has read-write access rights to access tenant foo.com</name>
      <uid>0a8938fc-bf02-4229-9fca-97a75b3ce46c</uid>
      <callers>
        <uid>ec1ea138-042e-43cd-9cfb-07541cc97455</uid>
      </callers>
    </actionword>
    <actionword>
      <name>tenant moo.com has read-only  access rights to access tenant bar.com</name>
      <uid>b5cb1199-720e-4012-b286-00f63a722447</uid>
      <callers>
        <uid>ec1ea138-042e-43cd-9cfb-07541cc97455</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a "p1"</name>
      <uid>24ae1d83-3361-4f20-84b5-4dba7da596dd</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
    </actionword>
    <actionword>
      <name>the user clicks submit on the login page</name>
      <uid>d5511f0a-17e5-492c-9c2e-9e0f93e955f3</uid>
      <callers>
        <uid>3af54d6a-1b62-4ab6-9192-fa6c9df2c90d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should get "p1"</name>
      <uid>02ddbad7-702d-4c79-8d6c-6f510641102c</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
    </actionword>
    <actionword>
      <name>"p1" is from a Unitive customer domain</name>
      <uid>98c1fd2a-8cbc-47c5-a648-860561c688ae</uid>
      <parameters>
        <parameter>
          <name>p1</name>
          <default_value>
            <template/>
          </default_value>
        </parameter>
      </parameters>
    </actionword>
    <actionword>
      <name>the initial conditions for the login feature</name>
      <uid>53791331-7b99-4bbe-b8b8-f13119c16f8d</uid>
      <steps>
        <call>
          <actionword>a list of valid Unitive domains:</actionword>
          <annotation>given</annotation>
        </call>
      </steps>
    </actionword>
    <actionword>
      <name>a list of valid Unitive domains:</name>
      <uid>9c95cdba-04f8-490a-9541-d832cc3205e9</uid>
      <callers>
        <uid>53791331-7b99-4bbe-b8b8-f13119c16f8d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>setup valid domain list</name>
      <uid>0fdcd22b-c53e-45bc-ab3c-2d4f5f181e6c</uid>
      <steps>
        <call>
          <actionword>add emc domain</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>add google domain</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>add facebook domain</actionword>
          <annotation/>
        </call>
      </steps>
      <callers>
        <uid>3af54d6a-1b62-4ab6-9192-fa6c9df2c90d</uid>
        <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add emc domain</name>
      <uid>d1a5030e-189b-4446-b0c4-0190813e387d</uid>
      <parameters>
        <parameter>
          <name>domain</name>
          <default_value>
            <template>
              <stringliteral>emc.com</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>0fdcd22b-c53e-45bc-ab3c-2d4f5f181e6c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add google domain</name>
      <uid>cdd2efc7-415c-4500-b23e-22134866ddb7</uid>
      <parameters>
        <parameter>
          <name>domain</name>
          <default_value>
            <template>
              <stringliteral>google.com</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>0fdcd22b-c53e-45bc-ab3c-2d4f5f181e6c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add facebook domain</name>
      <uid>8dcc642b-216b-4705-87e1-d6a24859dd0c</uid>
      <parameters>
        <parameter>
          <name>domain</name>
          <default_value>
            <template>
              <stringliteral>fb.com</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>0fdcd22b-c53e-45bc-ab3c-2d4f5f181e6c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>setup valid user list</name>
      <uid>b0cdbb04-9f99-4e42-b313-7ecbfb0d6da2</uid>
      <steps>
        <call>
          <actionword>add user sully@pixar.com</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>add user mater@pixar.com</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>add user bob@emc.com</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>add user sergey@google.com</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>add user zuck@fb.com</actionword>
          <annotation/>
        </call>
      </steps>
      <callers>
        <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add user sully@pixar.com</name>
      <uid>59f9fb3a-970b-4ee6-b4ec-43eeec90abc9</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
          <default_value>
            <template>
              <stringliteral>sully@pixar.com</stringliteral>
            </template>
          </default_value>
        </parameter>
        <parameter>
          <name>password</name>
          <default_value>
            <template>
              <stringliteral>monster</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>b0cdbb04-9f99-4e42-b313-7ecbfb0d6da2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add user mater@pixar.com</name>
      <uid>3e0412bb-eb86-4884-a179-9b126c0c70ef</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
          <default_value>
            <template>
              <stringliteral>mater@pixar.com</stringliteral>
            </template>
          </default_value>
        </parameter>
        <parameter>
          <name>password</name>
          <default_value>
            <template>
              <stringliteral>cars</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>b0cdbb04-9f99-4e42-b313-7ecbfb0d6da2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add user bob@emc.com</name>
      <uid>fc7d7eaf-7538-4a47-9aed-de67deed8a54</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
          <default_value>
            <template>
              <stringliteral>bob@emc.com</stringliteral>
            </template>
          </default_value>
        </parameter>
        <parameter>
          <name>password</name>
          <default_value>
            <template>
              <stringliteral>i_love_sts</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>b0cdbb04-9f99-4e42-b313-7ecbfb0d6da2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add user sergey@google.com</name>
      <uid>2bc1f5aa-f64f-475c-b8e2-6a5e9e973402</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
          <default_value>
            <template>
              <stringliteral>sergey@google.com</stringliteral>
            </template>
          </default_value>
        </parameter>
        <parameter>
          <name>password</name>
          <default_value>
            <template>
              <stringliteral>search</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>b0cdbb04-9f99-4e42-b313-7ecbfb0d6da2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add user zuck@fb.com</name>
      <uid>2c34b74f-2cc8-4fc6-92dc-8c9847e02ee2</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
          <default_value>
            <template>
              <stringliteral>zuck@fb.com</stringliteral>
            </template>
          </default_value>
        </parameter>
        <parameter>
          <name>password</name>
          <default_value>
            <template>
              <stringliteral>social</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>b0cdbb04-9f99-4e42-b313-7ecbfb0d6da2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>setup Unitive super-user list</name>
      <uid>9214d308-b718-4e07-8f50-425eee07eb0b</uid>
      <steps>
        <call>
          <actionword>add super-user mike</actionword>
          <annotation/>
        </call>
        <call>
          <actionword>add super-user laura</actionword>
          <annotation/>
        </call>
      </steps>
      <callers>
        <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add super-user mike</name>
      <uid>06827787-4b8d-430d-bb97-247286918111</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
          <default_value>
            <template>
              <stringliteral>mike@unitive.works</stringliteral>
            </template>
          </default_value>
        </parameter>
        <parameter>
          <name>password</name>
          <default_value>
            <template>
              <stringliteral>qwerty1</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>9214d308-b718-4e07-8f50-425eee07eb0b</uid>
      </callers>
    </actionword>
    <actionword>
      <name>add super-user laura</name>
      <uid>5347dd93-f10b-4886-b1a9-a639713cacaf</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
          <default_value>
            <template>
              <stringliteral>laura@unitive.works</stringliteral>
            </template>
          </default_value>
        </parameter>
        <parameter>
          <name>password</name>
          <default_value>
            <template>
              <stringliteral>12345</stringliteral>
            </template>
          </default_value>
        </parameter>
      </parameters>
      <callers>
        <uid>9214d308-b718-4e07-8f50-425eee07eb0b</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a </name>
      <uid>ba82c05f-2cca-49cf-9ec8-41c2cf278f88</uid>
    </actionword>
    <actionword>
      <name>${user email} and ${password}</name>
      <uid>6afe70fb-45bf-4c40-aeaf-2014ac11e588</uid>
    </actionword>
    <actionword>
      <name>${user email}</name>
      <uid>69c06895-18d8-4bdd-adcb-764049106add</uid>
    </actionword>
    <actionword>
      <name>${user email} is on a valid domain</name>
      <uid>81712ab2-5c1e-4906-a9ab-fbec844b27a1</uid>
    </actionword>
    <actionword>
      <name>user clicks submit on the login page</name>
      <uid>1b01e977-3968-4e7c-bf60-ddd65282752a</uid>
      <callers>
        <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the server should return ${result}</name>
      <uid>2f032e40-309e-4e7e-85fd-98bede26bea8</uid>
      <callers>
        <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user_email ${user_email} and password ${password}</name>
      <uid>7c09552f-bb3c-4ad4-a3c6-4106ea96a595</uid>
      <callers>
        <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user_email ${user_email} is on a valid domain</name>
      <uid>1bab5d61-d071-42ae-b185-a9034627432c</uid>
      <callers>
        <uid>19e022df-65db-441a-b5c2-f014a690313d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user_email ${user_email}</name>
      <uid>6a524a9c-f023-4603-a2d0-e20d3ef183f4</uid>
      <callers>
        <uid>3af54d6a-1b62-4ab6-9192-fa6c9df2c90d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>you should get result ${result}</name>
      <uid>c05138a8-e310-43b0-800a-e39e64a93474</uid>
      <callers>
        <uid>3af54d6a-1b62-4ab6-9192-fa6c9df2c90d</uid>
      </callers>
    </actionword>
    <actionword>
      <name>my name</name>
      <uid>3fb4c50c-c432-44aa-8896-0e892c7b7d25</uid>
    </actionword>
    <actionword>
      <name>the tenant not configured for SAML</name>
      <uid>ee6505fc-526d-4903-84d5-86014a5ff301</uid>
      <callers>
        <uid>eb88b3a0-e802-471a-a084-bc2cb8bbff1c</uid>
        <uid>5196f7ea-0cc4-450b-8787-ef53f9074641</uid>
        <uid>0e503654-fc84-4183-a8c4-e666401a09c2</uid>
        <uid>6955a64f-1dae-411a-9556-bde0ff840271</uid>
      </callers>
    </actionword>
    <actionword>
      <name>existing user "user_email"</name>
      <uid>d00b6562-bba0-4ac7-833f-ec90f9a78e0e</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>eb88b3a0-e802-471a-a084-bc2cb8bbff1c</uid>
        <uid>53de3410-0220-42ac-82c6-2f95b13fca64</uid>
        <uid>935a4d73-6c91-4a82-aa65-b5a94dfef58c</uid>
        <uid>ab834831-c23e-426c-bdb9-a38f5bcd5381</uid>
        <uid>20a95fc7-67fb-46ee-aa66-5afd9ad1b1c5</uid>
        <uid>0e503654-fc84-4183-a8c4-e666401a09c2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"user_email" logs in</name>
      <uid>b751948f-ba3f-4e09-b8d2-1d0756f96ab7</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>eb88b3a0-e802-471a-a084-bc2cb8bbff1c</uid>
        <uid>ee4b278a-9357-45ef-948a-fdbc53becacd</uid>
        <uid>53de3410-0220-42ac-82c6-2f95b13fca64</uid>
        <uid>5196f7ea-0cc4-450b-8787-ef53f9074641</uid>
        <uid>0e503654-fc84-4183-a8c4-e666401a09c2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>page "page_name" is presented.</name>
      <uid>34505c11-31f7-4625-bb67-19f424faf2ea</uid>
      <parameters>
        <parameter>
          <name>page_name</name>
        </parameter>
      </parameters>
      <callers>
        <uid>0e503654-fc84-4183-a8c4-e666401a09c2</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"page" is returned.</name>
      <uid>6248a98b-3b1d-4722-955a-8cc99128f815</uid>
      <parameters>
        <parameter>
          <name>page</name>
        </parameter>
      </parameters>
      <callers>
        <uid>52cabf92-e48b-4727-9697-021e948610c5</uid>
        <uid>ab834831-c23e-426c-bdb9-a38f5bcd5381</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"user_email" accesses "page"</name>
      <uid>f5ccea43-fde2-487c-a161-f99934909740</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
        <parameter>
          <name>page</name>
        </parameter>
      </parameters>
      <callers>
        <uid>52cabf92-e48b-4727-9697-021e948610c5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a one-time user credential</name>
      <uid>d0612cbe-4fa6-4953-b578-a0b61f09a136</uid>
      <callers>
        <uid>6955a64f-1dae-411a-9556-bde0ff840271</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the one-time user logs in</name>
      <uid>cdda39f0-545a-49a0-9c38-1a21db7edae2</uid>
      <callers>
        <uid>6955a64f-1dae-411a-9556-bde0ff840271</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the one-time user page is presented.</name>
      <uid>38f9170e-d4b9-410b-be28-16579a298ac9</uid>
      <callers>
        <uid>6955a64f-1dae-411a-9556-bde0ff840271</uid>
      </callers>
    </actionword>
    <actionword>
      <name>admin user "user_email"</name>
      <uid>d02feae5-f968-42c3-84b2-2fb6b618a5f9</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>5196f7ea-0cc4-450b-8787-ef53f9074641</uid>
      </callers>
    </actionword>
    <actionword>
      <name>SAML IDP information is submitted to "page"</name>
      <uid>4c1dc8bd-6201-4c72-a4b2-f60fd90a5794</uid>
      <parameters>
        <parameter>
          <name>page</name>
        </parameter>
      </parameters>
      <callers>
        <uid>5196f7ea-0cc4-450b-8787-ef53f9074641</uid>
      </callers>
    </actionword>
    <actionword>
      <name>result code "result_code" is returned</name>
      <uid>6c9ed8cb-2b93-4a3d-a4cd-a972dc0d16f2</uid>
      <parameters>
        <parameter>
          <name>result_code</name>
        </parameter>
      </parameters>
      <callers>
        <uid>53de3410-0220-42ac-82c6-2f95b13fca64</uid>
        <uid>5196f7ea-0cc4-450b-8787-ef53f9074641</uid>
      </callers>
    </actionword>
    <actionword>
      <name>the tenant configured for SAML</name>
      <uid>e2184228-e1a4-4e13-9ea8-c6ebd800fc50</uid>
      <callers>
        <uid>ee4b278a-9357-45ef-948a-fdbc53becacd</uid>
        <uid>0a370861-4d4f-4d48-b04d-d54bbe265924</uid>
        <uid>53de3410-0220-42ac-82c6-2f95b13fca64</uid>
        <uid>57cb3a4b-b59a-4af3-a903-32a30588786e</uid>
        <uid>935a4d73-6c91-4a82-aa65-b5a94dfef58c</uid>
        <uid>ab834831-c23e-426c-bdb9-a38f5bcd5381</uid>
        <uid>20a95fc7-67fb-46ee-aa66-5afd9ad1b1c5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>f</name>
      <uid>40e7ff97-af5c-4cfe-843e-a2bd76b517c2</uid>
    </actionword>
    <actionword>
      <name>"user_email" logs in with SAML</name>
      <uid>009384cb-6282-4168-8598-70ea652517fa</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>ab834831-c23e-426c-bdb9-a38f5bcd5381</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"p1"</name>
      <uid>7e83e9fd-b884-45bc-a984-7ad65eca37b3</uid>
      <parameters>
        <parameter>
          <name>p1</name>
        </parameter>
      </parameters>
    </actionword>
    <actionword>
      <name>"user_email" is not logged in</name>
      <uid>5d9d903b-7d61-4bb1-a4f6-3f5cab926180</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>53de3410-0220-42ac-82c6-2f95b13fca64</uid>
        <uid>20a95fc7-67fb-46ee-aa66-5afd9ad1b1c5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"user_email" accesses "page_name"</name>
      <uid>b84ba73e-336c-4f5a-aed7-85fa3e695c64</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
        <parameter>
          <name>page_name</name>
        </parameter>
      </parameters>
      <callers>
        <uid>ab834831-c23e-426c-bdb9-a38f5bcd5381</uid>
        <uid>20a95fc7-67fb-46ee-aa66-5afd9ad1b1c5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a redirect to the SAML IDP URL returned</name>
      <uid>edd5b19a-29c5-4d70-ae65-5dbbef5d3eb6</uid>
      <callers>
        <uid>20a95fc7-67fb-46ee-aa66-5afd9ad1b1c5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a SAML POST response is sent to "p1"</name>
      <uid>baa166b3-f108-44c0-9708-04293aa6153a</uid>
      <parameters>
        <parameter>
          <name>p1</name>
        </parameter>
      </parameters>
    </actionword>
    <actionword>
      <name>"user_email" is logged in</name>
      <uid>bd0d6c81-051f-41d3-8023-65635e154b8b</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>ee4b278a-9357-45ef-948a-fdbc53becacd</uid>
        <uid>0a370861-4d4f-4d48-b04d-d54bbe265924</uid>
        <uid>57cb3a4b-b59a-4af3-a903-32a30588786e</uid>
        <uid>935a4d73-6c91-4a82-aa65-b5a94dfef58c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user "p1" </name>
      <uid>d0e55e3f-ecfe-4860-91f2-577964933875</uid>
      <parameters>
        <parameter>
          <name>p1</name>
        </parameter>
      </parameters>
    </actionword>
    <actionword>
      <name>user "user_email" with no account</name>
      <uid>606a9adc-1d20-4bcb-b790-0c61bf44406f</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>57cb3a4b-b59a-4af3-a903-32a30588786e</uid>
      </callers>
    </actionword>
    <actionword>
      <name>user account "user_email" is created</name>
      <uid>3583579d-dce5-4265-8478-77be76d11bfa</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>57cb3a4b-b59a-4af3-a903-32a30588786e</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a SAML POST response for "user_name" is sent to "page"</name>
      <uid>f7e40ead-5d5b-41ea-a902-d44e58592f12</uid>
      <parameters>
        <parameter>
          <name>user_name</name>
        </parameter>
        <parameter>
          <name>page</name>
        </parameter>
      </parameters>
      <callers>
        <uid>57cb3a4b-b59a-4af3-a903-32a30588786e</uid>
        <uid>935a4d73-6c91-4a82-aa65-b5a94dfef58c</uid>
      </callers>
    </actionword>
    <actionword>
      <name>existing super user "user_email"</name>
      <uid>d87da128-4fdb-4615-be3a-41cf45d7c4d1</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>ee4b278a-9357-45ef-948a-fdbc53becacd</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"user_email" is not a super user</name>
      <uid>fe73a811-8809-43bb-8198-7eb42f1d92a4</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>53de3410-0220-42ac-82c6-2f95b13fca64</uid>
      </callers>
    </actionword>
    <actionword>
      <name>Given the tenant not configured for SAML an existing user "user_email" is logged in</name>
      <uid>eb88b3a0-e802-471a-a084-bc2cb8bbff1c</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <steps>
        <call>
          <actionword>the tenant not configured for SAML</actionword>
          <annotation>given</annotation>
        </call>
        <call>
          <actionword>existing user "user_email"</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <var>user_email</var>
              </value>
            </argument>
          </arguments>
        </call>
        <call>
          <actionword>"user_email" logs in</actionword>
          <annotation>and</annotation>
          <arguments>
            <argument>
              <name>user_email</name>
              <value>
                <var>user_email</var>
              </value>
            </argument>
          </arguments>
        </call>
      </steps>
      <callers>
        <uid>52cabf92-e48b-4727-9697-021e948610c5</uid>
      </callers>
    </actionword>
    <actionword>
      <name>"user_email" logs out</name>
      <uid>ea09763d-7531-47a6-b835-cc58caf3cc9a</uid>
      <parameters>
        <parameter>
          <name>user_email</name>
        </parameter>
      </parameters>
      <callers>
        <uid>0a370861-4d4f-4d48-b04d-d54bbe265924</uid>
      </callers>
    </actionword>
    <actionword>
      <name>a redirect to "page" occurs</name>
      <uid>0fd22e23-2a14-47d5-b628-d19c95bb3a6d</uid>
      <parameters>
        <parameter>
          <name>page</name>
        </parameter>
      </parameters>
      <callers>
        <uid>0a370861-4d4f-4d48-b04d-d54bbe265924</uid>
      </callers>
    </actionword>
    <actionword>
      <name>no other redirects occur</name>
      <uid>c2afe1fd-f204-4798-9335-eeca18bbba9e</uid>
      <callers>
        <uid>0a370861-4d4f-4d48-b04d-d54bbe265924</uid>
      </callers>
    </actionword>
  </actionwords>
  <testRuns>
    <testRun>
      <name>SAML</name>
      <uid>3d75c9dd-2507-436d-b220-7c6fde0bd295</uid>
      <folderSnapshots>
        <folderSnapshot>
          <name>Unitive</name>
          <uid>5a974414-f738-440b-a639-96ea8d3e873e</uid>
          <order_in_parent>8252137</order_in_parent>
        </folderSnapshot>
        <folderSnapshot>
          <name>Pointing</name>
          <uid>a460ee49-a8f0-4fa8-850d-a1f7b905b097</uid>
          <parentUid>5a974414-f738-440b-a639-96ea8d3e873e</parentUid>
          <order_in_parent>4194304</order_in_parent>
        </folderSnapshot>
        <folderSnapshot>
          <name>saml</name>
          <uid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</uid>
          <description>As a Unitive Customer 
I want to have my users login to Unitive using SAML Single Sign On in 
so that I can manage my users from a single location providing global control and security for my company.</description>
          <parentUid>a460ee49-a8f0-4fa8-850d-a1f7b905b097</parentUid>
          <order_in_parent>0</order_in_parent>
        </folderSnapshot>
      </folderSnapshots>
      <scenarioSnapshots>
        <scenarioSnapshot>
          <name>Non-SAML Login</name>
          <uid>2be79e20-0bb1-4df4-802b-50d7969f287d</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>3145728</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant not configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>existing user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" logs in</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>page "p1" is presented.</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>result.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>Non-SAML Login</scenarioName>
              <uid>e2924d54-415d-49c7-acc4-40af60f714f7</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant not configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And existing user john@domain.com</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When john@domain.com logs in</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then page result.html is presented.</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>Non-SAML Session</name>
          <uid>3e350e27-73c0-47fd-a086-2ec75519dec9</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>4194304</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant not configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>existing user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" logs in</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" accesses "p2"</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
                <argument>
                  <name>p2</name>
                  <value>
                    <template>
                      <stringliteral>page.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is returned.</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>page.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>Non-SAML Session</scenarioName>
              <uid>3e279623-4078-4368-9070-cb9bd4f5cf40</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant not configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And existing user john@domain.com</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And john@domain.com logs in</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When john@domain.com accesses page.html</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then page.html is returned.</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>Configure tenant for SAML</name>
          <uid>e5433f86-56a4-4f27-a8c5-40807315e175</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>7798784</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant not configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>admin user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>angela@u.w</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" logs in</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>angela@u.w</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>SAML IDP information is submitted to "p1"</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>saml.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>result code "p1" is returned</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>200</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>Configure tenant for SAML</scenarioName>
              <uid>eeaba7be-6369-4e27-b5e7-a204bb25bcc9</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant not configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And admin user angela@u.w</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And angela@u.w logs in</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When SAML IDP information is submitted to saml.html</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then result code 200 is returned</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>Non-SAML One-Time User Login</name>
          <uid>fa90ad34-992c-4933-9474-8a1c63f2221b</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>7340032</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant not configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>a one-time user credential</actionword>
              <annotation>and</annotation>
            </call>
            <call>
              <actionword>the one-time user logs in</actionword>
              <annotation>when</annotation>
            </call>
            <call>
              <actionword>the one-time user page is presented.</actionword>
              <annotation>then</annotation>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>Non-SAML One-Time User Login</scenarioName>
              <uid>887812cb-5d30-4907-895c-edda5d9e3420</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant not configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And a one-time user credential</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When the one-time user logs in</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then the one-time user page is presented.</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>SAML Super user login</name>
          <uid>5949c9bc-7a43-4ddf-bcf3-0474f5ae0be9</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>8380416</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>existing super user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>angela@u.w</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" logs in</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>angela@u.w</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is logged in</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>angela@u.w</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>SAML Super user login</scenarioName>
              <uid>4f943a0d-d5be-49a6-81f2-ab825f39ff8c</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And existing super user angela@u.w</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When angela@u.w logs in</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then angela@u.w is logged in</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>SAML Session Detection</name>
          <uid>6821d1c1-795f-4bab-ba4d-1ffa27343ebe</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>8257536</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>existing user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" logs in with SAML</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" access "p2"</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
                <argument>
                  <name>p2</name>
                  <value>
                    <template>
                      <stringliteral>page.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is returned.</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>page.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>SAML Session Detection</scenarioName>
              <uid>a9eaa91b-4515-4f40-add5-db81e5983e1a</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And existing user john@domain.com</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And john@domain.com logs in with SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When john@domain.com access page.html</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then page.html is returned.</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>SAML Login Redirect</name>
          <uid>5be3c32f-e5cb-431c-a67f-1374e45207bf</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>8323072</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>existing user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is not logged in</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" accesses page.html</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>a redirect to the SAML IDP URL returned</actionword>
              <annotation>then</annotation>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>SAML Login Redirect</scenarioName>
              <uid>dbba3e1c-997f-4a44-b540-f7fb4952229f</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And existing user john@domain.com</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And john@domain.com is not logged in</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When john@domain.com accesses page.html</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then a redirect to the SAML IDP URL returned</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>SAML Login Acceptance for Existing User</name>
          <uid>d5723267-5bf3-4cce-ab06-baf22afad536</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>8355840</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>existing user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>a SAML POST response for "p1" is sent to "p2"</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
                <argument>
                  <name>p2</name>
                  <value>
                    <template>
                      <stringliteral>saml.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is logged in</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>SAML Login Acceptance for Existing User</scenarioName>
              <uid>838fa6bc-747f-4134-b7b1-24d560af7b8b</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And existing user john@domain.com</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When a SAML POST response for john@domain.com is sent to saml.html</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then john@domain.com is logged in</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>SAML Login Acceptance for New User</name>
          <uid>ef0d9225-2dc2-4a56-b8e3-68a5fca68220</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>8372224</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>user "p1" with no account</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>a SAML POST response for "p1" is sent to "p2"</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
                <argument>
                  <name>p2</name>
                  <value>
                    <template>
                      <stringliteral>saml.html</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>user account "p1" is created</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is logged in</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>SAML Login Acceptance for New User</scenarioName>
              <uid>06979cba-51f7-4ad5-9219-af42f73e841e</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And user john@domain.com with no account</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When a SAML POST response for john@domain.com is sent to saml.html</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then user account john@domain.com is created</value>
                </step>
                <step>
                  <type>result</type>
                  <value>And john@domain.com is logged in</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
        <scenarioSnapshot>
          <name>SAML Non-Super user login</name>
          <uid>5bd87e70-3b7e-4d0b-8930-008165ad034c</uid>
          <folderUid>56c5b19e-b9b7-4512-904c-1bfdbb8a9f5a</folderUid>
          <order_in_parent>8384512</order_in_parent>
          <steps>
            <call>
              <actionword>the tenant configured for SAML</actionword>
              <annotation>given</annotation>
            </call>
            <call>
              <actionword>existing user "p1"</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is not a super user</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" logs in</actionword>
              <annotation>when</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>john@domain.com</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>"p1" is not logged in</actionword>
              <annotation>then</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>p1</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
            <call>
              <actionword>result code "p1" is returned</actionword>
              <annotation>and</annotation>
              <arguments>
                <argument>
                  <name>p1</name>
                  <value>
                    <template>
                      <stringliteral>401</stringliteral>
                    </template>
                  </value>
                </argument>
              </arguments>
            </call>
          </steps>
          <testSnapshots>
            <testSnapshot>
              <scenarioName>SAML Non-Super user login</scenarioName>
              <uid>52eaab71-4c8a-4027-af9d-8958e034e486</uid>
              <datasetUid/>
              <index>0</index>
              <steps>
                <step>
                  <type>action</type>
                  <value>Given the tenant configured for SAML</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And existing user john@domain.com</value>
                </step>
                <step>
                  <type>action</type>
                  <value>And john@domain.com is not a super user</value>
                </step>
                <step>
                  <type>action</type>
                  <value>When john@domain.com logs in</value>
                </step>
                <step>
                  <type>result</type>
                  <value>Then p1 is not logged in</value>
                </step>
                <step>
                  <type>result</type>
                  <value>And result code 401 is returned</value>
                </step>
              </steps>
              <testResults>
                <testResult>
                  <status>undefined</status>
                  <status_author/>
                  <created_at>1454645379</created_at>
                </testResult>
              </testResults>
            </testSnapshot>
          </testSnapshots>
        </scenarioSnapshot>
      </scenarioSnapshots>
      <actionwordSnapshots>
        <actionwordSnapshot>
          <name>admin "p1"</name>
          <uid>87f5a19e-9d8f-4f00-9984-3e2b115ce7e3</uid>
          <actionwordUid>394d8472-4c20-4ad4-8c22-14d48783cfb0</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"user" has read-write privileges to tenant "tenant"</name>
          <uid>1df01415-e433-4e74-8b86-12553f2b30be</uid>
          <actionwordUid>35bd241c-af37-4d5f-8b7e-88551fab92f0</actionwordUid>
          <parameters>
            <parameter>
              <name>user</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>tenant</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a valid unitive user "p1"</name>
          <uid>80ef11d8-b498-4172-bc00-683e6e281c87</uid>
          <actionwordUid>a7e84434-4623-4023-8347-0a3da6954f60</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user "p1" is currently linked to tenant foo.com</name>
          <uid>c2baa2d8-cff2-4b70-aae7-5d807e2a1c4e</uid>
          <actionwordUid>21ba68e5-7695-41d8-b2c4-7fca76b3e5b8</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests unlinking "p2" from tenant foo.com</name>
          <uid>e0229403-1e19-4fa0-a858-34db18d5da8f</uid>
          <actionwordUid>e9099691-b2ba-49b0-8776-989914fc5998</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should unlink "p1" from foo.com</name>
          <uid>167927a5-b010-40a0-b4fb-37cea40e1c6c</uid>
          <actionwordUid>5a7bf59a-cc11-48f8-a341-f62af11c4a5b</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a valid unitive account "p1"</name>
          <uid>de98ecc2-6aa4-44ff-8fff-60933d775161</uid>
          <actionwordUid>9580805b-73f2-4ee3-9f09-07a3c1529a82</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" does not have read-write admin privileges to foo.com</name>
          <uid>85c20604-7d28-4ad6-8bda-250218072950</uid>
          <actionwordUid>8f883d4a-6af8-4381-bc16-410bfba4d926</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should deny the unlinking and return an error of ERROR_PRIVILEGE</name>
          <uid>dd7c508b-e760-484e-89c6-45dbdf21031c</uid>
          <actionwordUid>176a520f-796d-4917-88bb-1b70311ff642</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests linking "p2" with tenant foo.com in user role</name>
          <uid>8a32fc48-cb1b-40be-b1eb-30891c33b5e0</uid>
          <actionwordUid>aaa779ef-6933-4ba7-b349-4950beace77d</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should link "p1" to foo.com</name>
          <uid>b7590621-2667-43fa-bc11-7ccbdff2aac6</uid>
          <actionwordUid>8e7785af-332b-44db-9ace-6bac3e6fd8fb</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" should have the role of user</name>
          <uid>3950d51d-597a-4465-9c8a-5f67126f27f2</uid>
          <actionwordUid>82b89f8f-6f60-4210-bc3d-4e3a8123367f</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" has an email address attached to their account with email domain foo.com</name>
          <uid>b7094ad5-340a-4f81-9ad0-bbce0878785b</uid>
          <actionwordUid>f3e57452-35b7-44c2-a092-d16ab68f6100</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests linking "p2" with tenant foo.com as an admin</name>
          <uid>4cbc5662-ac26-4f55-bce4-46b632d9fe1d</uid>
          <actionwordUid>71408008-8624-47c1-9106-c6247de09966</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" should have the role of admin</name>
          <uid>4f98096e-601f-4373-9bfb-98feea3b81dc</uid>
          <actionwordUid>1b69fa62-5a47-42ea-b0f1-a275058a10c0</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests linking "p2" with tenant foo.com in a user role</name>
          <uid>18a30749-3915-4b53-afce-00ca14aac2f6</uid>
          <actionwordUid>cbbd2f70-d5ab-46e3-8b67-a210db079e26</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should deny the linking and return an error of ERROR_PRIVILEGE</name>
          <uid>17bae2ca-feab-4a55-9226-0612ef06ac41</uid>
          <actionwordUid>04594015-4480-4351-b552-adf3da813bbd</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" does nto have an email address attached to their account with email domain foo.com</name>
          <uid>fb0dca17-4cd2-48c5-9e08-7aa562e3686f</uid>
          <actionwordUid>6899f117-6f2b-420e-8e92-3a4ec513bc36</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should deny the linking and return an error of ERROR_NO_TENANT_EMAIL</name>
          <uid>92afdb0f-ccae-48a2-86ce-41a3e4834cf9</uid>
          <actionwordUid>c9e32671-39bd-47ff-8c3b-22424570afba</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a foo.com admin "p1"</name>
          <uid>f6289047-0456-428d-82ed-579b66fc9962</uid>
          <actionwordUid>27185151-d4d7-4701-957f-071e7d28364d</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" has read-write privileges on tenant foo.com</name>
          <uid>8085a1f6-7cc2-40e7-bf60-e6b85065165d</uid>
          <actionwordUid>09af3ad1-b4e8-4d72-a008-794bf11dcee3</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user fred@foo.com</name>
          <uid>68cbd5f2-31fa-441a-8f99-c3a5fc13080e</uid>
          <actionwordUid>c5752b48-bcd3-48eb-b973-62e9fc98e55b</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>fred@foo.com is linked to tenant foo.com</name>
          <uid>4b6f100b-f9d4-47c8-9889-4c1818ed65b0</uid>
          <actionwordUid>4208b732-f684-42b9-a011-2371ab43e7e9</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests to promote user fred@foo.com to admin</name>
          <uid>99861d65-81d2-4992-bf8c-7551fe3aa5ef</uid>
          <actionwordUid>6d2e2124-2cec-4928-a616-cca804d4747e</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should promote fred@foo.com to an admin for tenant foo.com</name>
          <uid>c6976bbf-3d9f-4ed7-9ec9-fe6fb6d00312</uid>
          <actionwordUid>c9226233-26d1-4732-9cc1-9cbbe6b0b60e</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" DOES NOT HAVE read-write privileges on tenant foo.com</name>
          <uid>cecd71a8-0adf-492a-b748-93356f3b51b9</uid>
          <actionwordUid>4a05e3dc-aff6-40cc-b9d3-ebdb6bbbd22a</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should deny the promotion and return error ERROR_PRIVILEGE</name>
          <uid>6e6cc6c8-2dec-4ac6-8a18-7b1993bcd3dd</uid>
          <actionwordUid>57f70f39-0cb6-46e1-98bb-b4b42d16d1fa</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>fred@foo.com is an admin on tenant foo.com</name>
          <uid>47155a12-3d0b-4c6e-850c-4653e18542b8</uid>
          <actionwordUid>586a0f47-98ab-4d9d-855e-a7e49977f981</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests to demote admin fred@foo.com to regular user</name>
          <uid>0c6613d0-6a7a-40d5-86c1-b8299f42e0ea</uid>
          <actionwordUid>4b3374cc-86f9-4886-9551-d8efccbf7cfb</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should demote fred@foo.com to a regular user for tenant foo.com</name>
          <uid>910ce415-b816-44c3-a6cf-909b402d4d85</uid>
          <actionwordUid>f2821e36-4394-4add-95ad-7c59e7eb5da0</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests to demote fred@foo.com to regular user</name>
          <uid>ca9c25f5-2764-44ea-84d1-7dc20a0a0556</uid>
          <actionwordUid>6bb565e3-98de-4410-b833-be19c59c58ca</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should deny the demotion</name>
          <uid>575055db-941a-4abc-8dc8-3175f90aadb1</uid>
          <actionwordUid>5c916670-db16-4151-9170-7fa4a58b5c0b</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>return error ERROR_PRIVILEGE</name>
          <uid>ab439b85-cdae-47a9-aff3-9b779f0fadd8</uid>
          <actionwordUid>5067e189-8137-49ea-9a3a-2c851302ea83</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@foo.com tries to demote himself</name>
          <uid>945883f0-b29a-4c3e-bfd2-67f9cc80acac</uid>
          <actionwordUid>a3ef2db0-ee56-4efc-9f4b-71195dd2cd89</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>return error ERROR_SELF_HARM</name>
          <uid>e4b1d8e7-fb01-4ae4-96a0-9e48e2cd1923</uid>
          <actionwordUid>c8fe2698-5c94-455c-a422-35fd223f9379</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a user's name John Doe</name>
          <uid>c22b9919-170e-42b5-b7be-1f83492a2fc9</uid>
          <actionwordUid>a04dc331-d9dd-4734-b25f-c686d149fd3a</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a user's email address john.doe@gmail.com</name>
          <uid>f40416af-540b-43e2-84c5-6beeae06013c</uid>
          <actionwordUid>600e2df2-70ae-481d-9c92-22afec7aac94</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the user does not specify a tenant</name>
          <uid>40366a7d-23fb-4a6a-bad9-babdee456009</uid>
          <actionwordUid>3fd772ff-040a-4ef4-b826-f2c06a86da8d</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>John Doe requests a new Unitive account</name>
          <uid>abe86771-3960-4c30-8e7f-7c781853b52e</uid>
          <actionwordUid>ffffe19d-92ef-4cf5-9edb-a32679ba2870</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should create a new Unitive user account for john.doe@gmail.com</name>
          <uid>f9b40026-9be8-4e18-bffc-f4acc0b73d8e</uid>
          <actionwordUid>4410dcb2-d4b4-47c0-a2eb-ed527fc9bdc2</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>john.doe@gmail.com should be assigned to a 'user-unique-tenant'</name>
          <uid>8a579a35-d69d-4493-bd3f-52add5ed1477</uid>
          <actionwordUid>da80361d-06d5-4b2c-bd18-9160907b9edb</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a user's email address john.doe@newtenantdomain.com</name>
          <uid>89584499-52ee-4a44-a993-d5418ca76a90</uid>
          <actionwordUid>4dce7b53-3c34-47e6-b7be-251dd777950f</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>newtenantdomain.com is not a tenant domain already registered with Unitive</name>
          <uid>72af1da9-7421-4053-a34a-217c3454a9f3</uid>
          <actionwordUid>e2f02ed5-58a4-46ed-a3aa-412870c9e4d5</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>newtenantdomain.com is not known as a free email domain</name>
          <uid>dd96c193-8613-4e11-b6b8-ec6367c8ed3e</uid>
          <actionwordUid>471313a2-e08b-4335-8992-0f5f9af20438</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should create a new Unitive user account for john.doe@newtenantdomain.com</name>
          <uid>8a08c6f6-7c86-4fc5-b935-5bb2350c02e5</uid>
          <actionwordUid>a3a94dc3-e4da-461a-a6e5-3c79cb3a872b</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should create a new tenant for newtenantdomain.com</name>
          <uid>51963b6b-5e6e-4c5d-aee3-96632e6698fb</uid>
          <actionwordUid>e65d7fd2-60f7-4d71-8265-e93808651bfa</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should link john.doe@newtenantdomain.com to tenant newtenantdomain.com</name>
          <uid>3e7fdd60-06a8-4e7e-a9fb-439d38e494e2</uid>
          <actionwordUid>040b156e-98b4-40a1-8527-735c4712987b</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should make john.doe@newtenantdomain.com an admin for tenant newtenantdomain.com</name>
          <uid>a543307e-cb6f-49aa-83c5-785950585096</uid>
          <actionwordUid>835faa8d-4ba9-4169-a884-68405c247fd4</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>john.doe@newtenantdomain.com should be assigned to a 'user-unique-tenant'</name>
          <uid>46f0e8bb-10ce-4e53-90ab-5a1b58a89a0a</uid>
          <actionwordUid>dcaeb533-3713-4bd9-9218-bff71fc83bf8</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>an admin "p1"</name>
          <uid>58bf0992-5600-4a93-9558-7dcab00155ab</uid>
          <actionwordUid>41168fdc-0a42-4fa8-9157-dd086a6e7309</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a new user's name "p1"</name>
          <uid>f1da1d27-e0a5-4185-9fe1-32b079f43f79</uid>
          <actionwordUid>8e0c0c1b-346f-4ec0-b44d-17a28549fa7c</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a new user's email address "p1"</name>
          <uid>b310d10c-b90d-4b66-83e0-d0371c6f4539</uid>
          <actionwordUid>6e8fcdd1-149c-4564-8a9f-93c94071b685</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>and a valid tenant foo.com</name>
          <uid>d655fc7a-d1f5-485f-84de-3f88e7f9e0a8</uid>
          <actionwordUid>3781ea09-0751-4e0a-ad60-25c9cfd2a5c5</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" has admin read-write privileges on foo.com</name>
          <uid>705e7026-1f33-4b16-95b2-7bc76fc167aa</uid>
          <actionwordUid>df34a864-6cc4-49f1-a700-4d10d8549983</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" requests a new account for "p2"</name>
          <uid>eeb2c041-b666-4d4f-adc4-bb45c58f27e3</uid>
          <actionwordUid>dfad0221-13f1-4778-9a50-683e5135ff4b</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should create a new Unitive user account for "p1"</name>
          <uid>18460c17-aae7-48e7-a993-bcbf7e47dd7a</uid>
          <actionwordUid>4ee89b3d-afb5-422d-9776-79922343e653</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" should be linked to foo.com</name>
          <uid>2a3dede3-da5e-4cdf-b8c0-609d497e3f90</uid>
          <actionwordUid>4cf3d3b7-9287-420c-a431-f23007130608</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" should be assigned to a 'user-unique-tenant'</name>
          <uid>0c07b4ff-1154-408d-a0d5-2a8624a923db</uid>
          <actionwordUid>557cd2b9-2628-4657-bf18-ee58bf35457a</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user "p1" with foo.com tenant privileges "p2"</name>
          <uid>de6f4523-ed88-4080-ad81-c2c8248c70cf</uid>
          <actionwordUid>a04ed990-9c0d-4893-9df6-8521356840c4</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should deny the request with an error_no_privilege</name>
          <uid>1a29998e-cf19-4460-8582-d3d33a49ca14</uid>
          <actionwordUid>ce3757e1-971b-49c9-986f-bc3793dae47d</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>and a new email address for that user, joe@bar.com</name>
          <uid>5804112f-e83a-47b9-9889-39efe0aab22b</uid>
          <actionwordUid>924798b0-f5ae-4970-a548-3547fab7a473</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the email address, joe@bar.com, can be verified by the user</name>
          <uid>a5b05f75-48a4-46eb-b896-919c6d83b7ea</uid>
          <actionwordUid>18e99cf1-c032-4031-8f25-708cdbe54c46</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>bar.com is already attached to an existing unitive tenant</name>
          <uid>8c7bd33a-0bec-4cea-b4a2-ce706920a725</uid>
          <actionwordUid>a6cf17e3-a2b6-4c24-a402-5ade31d66c28</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@foo.com requests adding joe@bar.com to their account</name>
          <uid>50cbae22-c1df-46ff-b3ef-98812e6a2635</uid>
          <actionwordUid>5743b150-be9e-4e1e-a4c1-93ea96b8dfe1</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>email address joe@bar.com should be attached to user joe@foo.com's account</name>
          <uid>dbb7509a-2d24-46cc-9e8f-22b8514a4162</uid>
          <actionwordUid>17f46882-5aae-4245-abb4-f3eea603ece6</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a new email address for that user, joe@bar.com</name>
          <uid>1d33ab4c-a636-48c7-8e0e-5fff0536303c</uid>
          <actionwordUid>11425d8e-5b3e-4681-818b-0675abd726e6</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>bar.com has been conifgured to auto-link users with valid bar.com email addresses</name>
          <uid>c8ddfaf2-1508-44cf-b27b-c05946291743</uid>
          <actionwordUid>4bfa7ce2-dbab-48b0-84ff-57eb028f97c6</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>attach email address joe@bar.com to user joe@foo.com's account</name>
          <uid>ece0798b-30f3-4543-9d48-aa56adf86665</uid>
          <actionwordUid>2baf8f62-f151-4e79-abab-b0a19d864fe7</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>link joe@bar.com to tenant bar.com</name>
          <uid>547a43ae-e5ae-4c0e-b098-a2f903112828</uid>
          <actionwordUid>8f098ca0-4549-40a4-9e48-7919ac6d9c27</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>and a new email address for that user, joe@newtenantdomain.com</name>
          <uid>c1c49453-b085-4d60-9492-873597a44c3f</uid>
          <actionwordUid>aa479e3a-eb24-4b7b-b5f8-feb2ab9763fe</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the email address, joe@newtenantdomain.com, can be verified by the user</name>
          <uid>c7bd84bc-18a1-4536-b977-f3a2cc884ea7</uid>
          <actionwordUid>a95e795d-9b03-4a47-b577-355ae2391ebb</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>newtenantdomain.com is not yet an existing unitive tenant domain</name>
          <uid>610f7673-ab22-4dc1-ba4e-029e171620a6</uid>
          <actionwordUid>3badfa57-61a8-4fdd-9f4a-e4e496adf98f</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@foo.com requests adding joe@newtenantdomain.com to their account</name>
          <uid>e1a6a183-2033-4053-a859-7e92e5681c5c</uid>
          <actionwordUid>d2342d93-063b-4f09-bb3e-ae46e2085dee</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>email address joe@newtenantdomain.com should be attached to user joe@foo.com's account</name>
          <uid>905b9e4c-0c68-4152-b767-fba699407961</uid>
          <actionwordUid>f83dd4bd-8443-4069-9e77-8c7d1157cd9e</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>new tenant, newtenantdomain.com, shoudl be created</name>
          <uid>7114c615-ba06-4114-abf2-30bbd27238bd</uid>
          <actionwordUid>1f44fc85-3c59-49d3-880a-80bb3767c588</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@newtenantdomain.com should be linked to tenant newtenantdomain.com</name>
          <uid>ebe55af0-b80e-4175-8065-79dde0a033b7</uid>
          <actionwordUid>5137d115-8482-4ed4-85fb-e17a8fe7b710</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@newtenantdomain.com should now be an admin for tenant newtenantdomain.com</name>
          <uid>9aff3a33-855b-47d7-b5b4-7ebb61a28128</uid>
          <actionwordUid>e243357a-2022-4899-8824-3d5567c3add2</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the email address, joe@bar.com, CANNOT be verified by the user</name>
          <uid>7c106b58-1d08-43d2-a34e-e4b0984d8a0c</uid>
          <actionwordUid>b8cf8b1a-ea32-4d5a-a380-d44ea420a826</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the email address should not be linked to the user account</name>
          <uid>e779b570-5c06-4856-bdac-0ee25c664363</uid>
          <actionwordUid>d55897cd-ae93-49b4-b769-ed219b050d78</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the new email address should remain in an incomplete state</name>
          <uid>681bcec9-1743-435d-9894-5215ca32c821</uid>
          <actionwordUid>7480f858-c5e0-48bd-bebd-6d173d5542dd</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" resume file with content:</name>
          <uid>ae4006ff-f1b7-4af8-8f2a-8fe4b3eef609</uid>
          <actionwordUid>4bcbfed6-644a-4f8e-80d5-5326daf49234</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the resume is parsed</name>
          <uid>886cb26d-3291-4045-b392-295a3827a1ba</uid>
          <actionwordUid>c4cbc7e2-336f-40f8-adf3-91bd9dde9416</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>we should have the following content sections as results:</name>
          <uid>631604b3-d2d7-45e4-b5c8-350f4bd11321</uid>
          <actionwordUid>fc5a5e48-438a-4710-b36e-f1ba0bacb6de</actionwordUid>
          <parameters>
            <parameter>
              <name>section_name</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>name</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>email</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>location</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>skills</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>experience</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>education</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>patents</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>awards</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>competencies</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>Section_name</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a valid "p1" resume with content:</name>
          <uid>ca2d7f51-ccc1-4c58-b45c-ddfd9b8b719b</uid>
          <actionwordUid>f4f7b8c6-a5ca-492b-b6b0-9bd4b0ae0c64</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>no name on the resume</name>
          <uid>b7c1904e-4eea-487e-baf9-33346a2e9fda</uid>
          <actionwordUid>f2a94aad-4f7d-4566-a79e-48619126e8bd</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the result should be an error</name>
          <uid>7254fb77-58d4-4ba0-a9cb-fb8c2d22ce96</uid>
          <actionwordUid>7fc98f9b-8ecc-41d9-a49c-23a4b4501c74</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>Laura Mather's LinkedIn profile with content:</name>
          <uid>50ffaf59-3dcb-4118-a89d-8f7fcf79bf10</uid>
          <actionwordUid>9ac8d264-88df-415c-9c62-7b0503130d56</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>resume file "p1" with content:</name>
          <uid>ce4a95dd-2c49-412a-b2c1-f4b805687bcb</uid>
          <actionwordUid>a88e016f-b833-4073-9358-b5d5bab21c2f</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>section_name</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>name</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>email</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>location</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>skills</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>experience</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>education</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>patents</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>awards</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>competencies</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>we need to cleanse the resume</name>
          <uid>7ccaa479-7fb0-4a22-a0ce-841071b7978d</uid>
          <actionwordUid>f6701d40-07bd-4555-916e-571d0f71af73</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should have a newly rendered and cleansed PDF with the content above</name>
          <uid>f45ca1fa-d6c5-437d-a0e6-f46dc7239537</uid>
          <actionwordUid>4e88eab4-76d6-4143-81cd-c12247248583</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" wants to provide read-only access privileges to "p2" for foo.com</name>
          <uid>4555be4a-60ef-4eb8-96dd-1781f4935cc8</uid>
          <actionwordUid>1d4b660b-84ef-45a5-8dd0-43cda3ebb916</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should see a successful grant of priveleges</name>
          <uid>ce429de3-1ebd-48bb-a418-161b816d56b2</uid>
          <actionwordUid>019df2e5-9f38-496d-8ce4-d8dd47855339</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>anna@roo.com wants to provide tenant access to shrek@zoo.com for foo.com</name>
          <uid>dd71335e-dec2-44d6-85ec-5a89bcb0d0ed</uid>
          <actionwordUid>86e9c3d6-b2cb-4de3-b372-f7882c6f4c7a</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should decline privelege request</name>
          <uid>a8a5ccdb-10f7-4e68-b8ee-ee673225aa0a</uid>
          <actionwordUid>12888d23-7833-4b96-bb5a-4a9a9699c4ad</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>elsa@soo.com wants to provide tenant access to shrek@zoo.com for foo.com</name>
          <uid>01c5aabe-fe43-4c0b-b6e9-e014dae15576</uid>
          <actionwordUid>28d9146e-dd6a-4ff2-8415-1ec8848e17b0</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a new user joe@foo.com</name>
          <uid>195b7837-716b-4f8c-a8f1-d61626fd8eda</uid>
          <actionwordUid>1449d68e-8308-4948-930b-1fce1b10e1e5</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@foo.com successfully created a unitive account</name>
          <uid>d9d91a9b-2d92-4107-998b-1d69b9ccf913</uid>
          <actionwordUid>ba4d6b42-ff55-4921-8e12-0f14e75387a1</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>foo.com is a valid unitive tenant</name>
          <uid>7843c7e1-89f6-4130-bba3-71331f15f87b</uid>
          <actionwordUid>75eae935-9b3f-44cb-a66d-34e885e1b875</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>foo.com has the auto-link flag set for the tenant</name>
          <uid>a1f84607-19b0-44eb-86c8-1aff9e778976</uid>
          <actionwordUid>0b16a4d4-6e4a-438d-a65c-52049590d2bb</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@foo.com's unitive account should have been  successfully created</name>
          <uid>3cb56f06-8c86-4d7d-8b43-0eae51038e05</uid>
          <actionwordUid>df4226e4-a365-415e-9031-2ea3eb7f71e8</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@foo.com should be linked to tenant foo.com</name>
          <uid>d59b1e6c-d8a0-4f48-9f79-5e0ff24f4437</uid>
          <actionwordUid>fea12dbe-6005-4c22-850d-19a1745890ac</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>an existing user joe@bar.com</name>
          <uid>5eab35d7-b83a-412b-b4e1-0345def23a6a</uid>
          <actionwordUid>9cb13623-df77-4a79-b209-c0d46a33dcdc</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@bar.com successfully added joe@foo.com to his account</name>
          <uid>f1ea0208-1f0a-44a8-af9c-76f6d7aa9003</uid>
          <actionwordUid>aae4677a-2a4a-4f55-8f92-3384603cd626</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>joe@foo.com is successfully added to joe@bar.com's unitive account</name>
          <uid>61a026ff-c668-40c7-8306-14ab247e239a</uid>
          <actionwordUid>e78536d1-1876-408e-bcde-03a1731c370e</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the following user information:</name>
          <uid>c131527a-c3f6-4e0a-bf3d-f5c10cd14439</uid>
          <actionwordUid>c9c76a95-1f6d-4792-b507-43bd1ab64d8e</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>tenants information:</name>
          <uid>b38d99b0-2652-4011-af4e-39f83205c991</uid>
          <actionwordUid>8abf02a7-0dd9-46af-bc69-f456701958ac</actionwordUid>
          <parameters>
            <parameter>
              <name>tenant</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>foo_com</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>bar_com</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>zoo_com</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>moo_com</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" wants to provide "p2" access privileges to "p3" for "p4"</name>
          <uid>d62bd1d8-9957-411e-8143-716d39de684d</uid>
          <actionwordUid>a30921ab-a784-4706-8b7f-28ffc9ead4b6</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p2</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p3</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
            <parameter>
              <name>p4</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should grant the requested privileges</name>
          <uid>3128f9f8-b246-490d-9fc4-4f86a92806b7</uid>
          <actionwordUid>7df79930-7c2b-4de7-b47f-080af3ebc086</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user jane@foo.com who is not an admin</name>
          <uid>8f223fb9-1fe5-44af-8927-1c7eeb6253b9</uid>
          <actionwordUid>ed2c4de5-63fc-4336-bd21-c9b2b5707622</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should decline the request for tenant access</name>
          <uid>c03fb5e5-fc8c-43b4-aec7-d7d9876b914c</uid>
          <actionwordUid>ed936b26-53e8-4c58-a587-8503e1e50f2c</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>tenant moo.com has read-write access rights to access tenant foo.com</name>
          <uid>7c6fa1e5-ed24-459a-8f24-b5f00b7af70d</uid>
          <actionwordUid>0a8938fc-bf02-4229-9fca-97a75b3ce46c</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>tenant moo.com has read-only  access rights to access tenant bar.com</name>
          <uid>20cfc2fb-be3a-454f-8e59-448b4fe1b9b9</uid>
          <actionwordUid>b5cb1199-720e-4012-b286-00f63a722447</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a "p1"</name>
          <uid>02edd394-0a4c-4e00-bc82-f18e7f952613</uid>
          <actionwordUid>24ae1d83-3361-4f20-84b5-4dba7da596dd</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the user clicks submit on the login page</name>
          <uid>21ad4602-e6b0-4cc4-bf30-dba2dec6ce11</uid>
          <actionwordUid>d5511f0a-17e5-492c-9c2e-9e0f93e955f3</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should get "p1"</name>
          <uid>d7c4aa5e-1594-40dc-bd3b-4c4b5a8f35ba</uid>
          <actionwordUid>02ddbad7-702d-4c79-8d6c-6f510641102c</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" is from a Unitive customer domain</name>
          <uid>bb051f9d-f329-4e82-b459-840147a22d88</uid>
          <actionwordUid>98c1fd2a-8cbc-47c5-a648-860561c688ae</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
              <default_value>
                <template/>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the initial conditions for the login feature</name>
          <uid>8f9507fc-e23e-4081-af8c-d1518a0b29e2</uid>
          <actionwordUid>53791331-7b99-4bbe-b8b8-f13119c16f8d</actionwordUid>
          <steps>
            <call>
              <actionword>a list of valid Unitive domains:</actionword>
              <annotation>given</annotation>
            </call>
          </steps>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a list of valid Unitive domains:</name>
          <uid>311b39c0-0f7e-4621-b5ba-4156172d8352</uid>
          <actionwordUid>9c95cdba-04f8-490a-9541-d832cc3205e9</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>setup valid domain list</name>
          <uid>7e24dd23-3c32-4fbe-9c88-912a202a1d97</uid>
          <actionwordUid>0fdcd22b-c53e-45bc-ab3c-2d4f5f181e6c</actionwordUid>
          <steps>
            <call>
              <actionword>add emc domain</actionword>
              <annotation/>
            </call>
            <call>
              <actionword>add google domain</actionword>
              <annotation/>
            </call>
            <call>
              <actionword>add facebook domain</actionword>
              <annotation/>
            </call>
          </steps>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add emc domain</name>
          <uid>b3404f7c-af77-4124-b37e-213d20257445</uid>
          <actionwordUid>d1a5030e-189b-4446-b0c4-0190813e387d</actionwordUid>
          <parameters>
            <parameter>
              <name>domain</name>
              <default_value>
                <template>
                  <stringliteral>emc.com</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add google domain</name>
          <uid>1bd3400e-4f65-43e2-be0b-3d0845d6403c</uid>
          <actionwordUid>cdd2efc7-415c-4500-b23e-22134866ddb7</actionwordUid>
          <parameters>
            <parameter>
              <name>domain</name>
              <default_value>
                <template>
                  <stringliteral>google.com</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add facebook domain</name>
          <uid>245e900e-43f0-4e4e-8c5d-8bf29531439d</uid>
          <actionwordUid>8dcc642b-216b-4705-87e1-d6a24859dd0c</actionwordUid>
          <parameters>
            <parameter>
              <name>domain</name>
              <default_value>
                <template>
                  <stringliteral>fb.com</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>setup valid user list</name>
          <uid>33ff2a99-bcbf-44d7-9ec1-aa812f8c6ea3</uid>
          <actionwordUid>b0cdbb04-9f99-4e42-b313-7ecbfb0d6da2</actionwordUid>
          <steps>
            <call>
              <actionword>add user sully@pixar.com</actionword>
              <annotation/>
            </call>
            <call>
              <actionword>add user mater@pixar.com</actionword>
              <annotation/>
            </call>
            <call>
              <actionword>add user bob@emc.com</actionword>
              <annotation/>
            </call>
            <call>
              <actionword>add user sergey@google.com</actionword>
              <annotation/>
            </call>
            <call>
              <actionword>add user zuck@fb.com</actionword>
              <annotation/>
            </call>
          </steps>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add user sully@pixar.com</name>
          <uid>44b19803-b06e-4e1e-9358-8d2bfdc2de8e</uid>
          <actionwordUid>59f9fb3a-970b-4ee6-b4ec-43eeec90abc9</actionwordUid>
          <parameters>
            <parameter>
              <name>user_email</name>
              <default_value>
                <template>
                  <stringliteral>sully@pixar.com</stringliteral>
                </template>
              </default_value>
            </parameter>
            <parameter>
              <name>password</name>
              <default_value>
                <template>
                  <stringliteral>monster</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add user mater@pixar.com</name>
          <uid>b096ad4b-3814-4bb7-bc05-2c71ac7ebc3a</uid>
          <actionwordUid>3e0412bb-eb86-4884-a179-9b126c0c70ef</actionwordUid>
          <parameters>
            <parameter>
              <name>user_email</name>
              <default_value>
                <template>
                  <stringliteral>mater@pixar.com</stringliteral>
                </template>
              </default_value>
            </parameter>
            <parameter>
              <name>password</name>
              <default_value>
                <template>
                  <stringliteral>cars</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add user bob@emc.com</name>
          <uid>13f893ae-662a-40cc-93ad-fc0e74738cf7</uid>
          <actionwordUid>fc7d7eaf-7538-4a47-9aed-de67deed8a54</actionwordUid>
          <parameters>
            <parameter>
              <name>user_email</name>
              <default_value>
                <template>
                  <stringliteral>bob@emc.com</stringliteral>
                </template>
              </default_value>
            </parameter>
            <parameter>
              <name>password</name>
              <default_value>
                <template>
                  <stringliteral>i_love_sts</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add user sergey@google.com</name>
          <uid>17c40902-5fc2-4f30-b21a-c9dbb8fe53d1</uid>
          <actionwordUid>2bc1f5aa-f64f-475c-b8e2-6a5e9e973402</actionwordUid>
          <parameters>
            <parameter>
              <name>user_email</name>
              <default_value>
                <template>
                  <stringliteral>sergey@google.com</stringliteral>
                </template>
              </default_value>
            </parameter>
            <parameter>
              <name>password</name>
              <default_value>
                <template>
                  <stringliteral>search</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add user zuck@fb.com</name>
          <uid>7328a163-8022-4361-b96c-b9ef4425bf9e</uid>
          <actionwordUid>2c34b74f-2cc8-4fc6-92dc-8c9847e02ee2</actionwordUid>
          <parameters>
            <parameter>
              <name>user_email</name>
              <default_value>
                <template>
                  <stringliteral>zuck@fb.com</stringliteral>
                </template>
              </default_value>
            </parameter>
            <parameter>
              <name>password</name>
              <default_value>
                <template>
                  <stringliteral>social</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>setup Unitive super-user list</name>
          <uid>2619bf5a-a304-4a7a-bd05-7bebd1f1c7b4</uid>
          <actionwordUid>9214d308-b718-4e07-8f50-425eee07eb0b</actionwordUid>
          <steps>
            <call>
              <actionword>add super-user mike</actionword>
              <annotation/>
            </call>
            <call>
              <actionword>add super-user laura</actionword>
              <annotation/>
            </call>
          </steps>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add super-user mike</name>
          <uid>20aec8c8-e225-49ce-a11c-74a9985508b8</uid>
          <actionwordUid>06827787-4b8d-430d-bb97-247286918111</actionwordUid>
          <parameters>
            <parameter>
              <name>user_email</name>
              <default_value>
                <template>
                  <stringliteral>mike@unitive.works</stringliteral>
                </template>
              </default_value>
            </parameter>
            <parameter>
              <name>password</name>
              <default_value>
                <template>
                  <stringliteral>qwerty1</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>add super-user laura</name>
          <uid>288462df-2ec8-48e0-a53e-c9f23f918b42</uid>
          <actionwordUid>5347dd93-f10b-4886-b1a9-a639713cacaf</actionwordUid>
          <parameters>
            <parameter>
              <name>user_email</name>
              <default_value>
                <template>
                  <stringliteral>laura@unitive.works</stringliteral>
                </template>
              </default_value>
            </parameter>
            <parameter>
              <name>password</name>
              <default_value>
                <template>
                  <stringliteral>12345</stringliteral>
                </template>
              </default_value>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a </name>
          <uid>2eb6bac2-962d-4068-bfd4-5ed6d8c17900</uid>
          <actionwordUid>ba82c05f-2cca-49cf-9ec8-41c2cf278f88</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>${user email} and ${password}</name>
          <uid>26808535-d225-496d-bb05-7ee20e442c86</uid>
          <actionwordUid>6afe70fb-45bf-4c40-aeaf-2014ac11e588</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>${user email}</name>
          <uid>dcef55df-5657-40fa-bfa5-8d7cbc405fc2</uid>
          <actionwordUid>69c06895-18d8-4bdd-adcb-764049106add</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>${user email} is on a valid domain</name>
          <uid>8ac374dd-07bc-4443-a390-f2ed3ddbe71d</uid>
          <actionwordUid>81712ab2-5c1e-4906-a9ab-fbec844b27a1</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user clicks submit on the login page</name>
          <uid>fa1338c5-cb62-47b1-b3ee-d7faf024ab02</uid>
          <actionwordUid>1b01e977-3968-4e7c-bf60-ddd65282752a</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the server should return ${result}</name>
          <uid>96dab3bd-ef48-4f21-ae94-e3ba55fb2b68</uid>
          <actionwordUid>2f032e40-309e-4e7e-85fd-98bede26bea8</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user_email ${user_email} and password ${password}</name>
          <uid>96f06530-baff-4dcb-a453-dadc8f3472d3</uid>
          <actionwordUid>7c09552f-bb3c-4ad4-a3c6-4106ea96a595</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user_email ${user_email} is on a valid domain</name>
          <uid>137a0e39-828c-4aca-8bfa-7ffef94e7518</uid>
          <actionwordUid>1bab5d61-d071-42ae-b185-a9034627432c</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user_email ${user_email}</name>
          <uid>c5ea06c3-67ad-4a62-9487-c839986b3b61</uid>
          <actionwordUid>6a524a9c-f023-4603-a2d0-e20d3ef183f4</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>you should get result ${result}</name>
          <uid>cdfcd92e-85c1-415f-9271-5f9fa828e2ce</uid>
          <actionwordUid>c05138a8-e310-43b0-800a-e39e64a93474</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>my name</name>
          <uid>0ea11042-f451-4754-ba55-28301d881459</uid>
          <actionwordUid>3fb4c50c-c432-44aa-8896-0e892c7b7d25</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the tenant not configured for SAML</name>
          <uid>ab795dbf-a3b6-48e5-bc40-41e8eaa1bc9c</uid>
          <actionwordUid>ee6505fc-526d-4903-84d5-86014a5ff301</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>existing user "p1"</name>
          <uid>219f4d2b-2621-4798-abb7-4556f5c75efe</uid>
          <actionwordUid>d00b6562-bba0-4ac7-833f-ec90f9a78e0e</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" logs in</name>
          <uid>71c13f95-183c-4ce2-ae6a-ed7f131112bf</uid>
          <actionwordUid>b751948f-ba3f-4e09-b8d2-1d0756f96ab7</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>page "p1" is presented.</name>
          <uid>2b528332-2bca-4b06-a094-2ba819512671</uid>
          <actionwordUid>34505c11-31f7-4625-bb67-19f424faf2ea</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" access page.html</name>
          <uid>3c78b989-64e3-40c0-a46e-f4ca25dc96d4</uid>
          <actionwordUid>73fb9206-926b-47d6-89dd-b18127234279</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" is returned.</name>
          <uid>084673c3-3f69-4171-8818-4768877df88e</uid>
          <actionwordUid>6248a98b-3b1d-4722-955a-8cc99128f815</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" accesses "p2"</name>
          <uid>c63677ae-ecf5-4d72-8d9e-5d33f5d97258</uid>
          <actionwordUid>f5ccea43-fde2-487c-a161-f99934909740</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
            <parameter>
              <name>p2</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a one-time user credential</name>
          <uid>d7e83592-5d04-4e21-ad82-4a5e36e466f3</uid>
          <actionwordUid>d0612cbe-4fa6-4953-b578-a0b61f09a136</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the one-time user logs in</name>
          <uid>440eda5c-d1ac-4d04-95bb-92d8b4ee0730</uid>
          <actionwordUid>cdda39f0-545a-49a0-9c38-1a21db7edae2</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the one-time user page is presented.</name>
          <uid>232ee377-d8f7-4f22-8227-3c1edc339dd0</uid>
          <actionwordUid>38f9170e-d4b9-410b-be28-16579a298ac9</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>admin user "p1"</name>
          <uid>bae0c4ef-431e-42b6-9d38-3bfb1e6b0d8b</uid>
          <actionwordUid>d02feae5-f968-42c3-84b2-2fb6b618a5f9</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>SAML IDP information is submitted to "p1"</name>
          <uid>63491dea-c9af-42d4-abfa-d397b3e027b8</uid>
          <actionwordUid>4c1dc8bd-6201-4c72-a4b2-f60fd90a5794</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>result code "p1" is returned</name>
          <uid>9660c9dd-2937-43c0-b83a-ed210e107da3</uid>
          <actionwordUid>6c9ed8cb-2b93-4a3d-a4cd-a972dc0d16f2</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>the tenant configured for SAML</name>
          <uid>4a095f30-39e5-4c8e-8b17-c6cd00af6c3c</uid>
          <actionwordUid>e2184228-e1a4-4e13-9ea8-c6ebd800fc50</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>f</name>
          <uid>905777e6-55d9-487f-8ea7-53230c62b0da</uid>
          <actionwordUid>40e7ff97-af5c-4cfe-843e-a2bd76b517c2</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" logs in with SAML</name>
          <uid>c10fc1a8-19a1-4ffc-aecb-af36f499c5b9</uid>
          <actionwordUid>009384cb-6282-4168-8598-70ea652517fa</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" access "p2"</name>
          <uid>718c402d-576f-40cb-8d6c-55ce29ece8b6</uid>
          <actionwordUid>81d29906-7ad4-4d53-9f4b-bc2e439b4a3f</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
            <parameter>
              <name>p2</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1"</name>
          <uid>0aff80f6-4f85-412e-be52-c5f4a5af5741</uid>
          <actionwordUid>7e83e9fd-b884-45bc-a984-7ad65eca37b3</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" is not logged in</name>
          <uid>0b96a466-1959-444c-8f3d-a2aa88f05ad0</uid>
          <actionwordUid>5d9d903b-7d61-4bb1-a4f6-3f5cab926180</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" accesses page.html</name>
          <uid>3229755d-2e7e-4e8b-b169-627a8d9a9b49</uid>
          <actionwordUid>b84ba73e-336c-4f5a-aed7-85fa3e695c64</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a redirect to the SAML IDP URL returned</name>
          <uid>64ded174-9b59-41e3-bd74-6c5532ba1022</uid>
          <actionwordUid>edd5b19a-29c5-4d70-ae65-5dbbef5d3eb6</actionwordUid>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a SAML POST response is sent to "p1"</name>
          <uid>42e30c78-d719-40fd-834d-347ce3330043</uid>
          <actionwordUid>baa166b3-f108-44c0-9708-04293aa6153a</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" is logged in</name>
          <uid>d48ad21c-7775-46d4-9d12-11d9e2651b7b</uid>
          <actionwordUid>bd0d6c81-051f-41d3-8023-65635e154b8b</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user "p1" </name>
          <uid>90b0c556-e4dc-4982-bffb-b69fb7905e50</uid>
          <actionwordUid>d0e55e3f-ecfe-4860-91f2-577964933875</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user "p1" with no account</name>
          <uid>75b4623a-4c28-49a1-9c1d-e02953897b55</uid>
          <actionwordUid>606a9adc-1d20-4bcb-b790-0c61bf44406f</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>user account "p1" is created</name>
          <uid>ecfddad2-eb1e-4dcf-b744-4e56abdee12c</uid>
          <actionwordUid>3583579d-dce5-4265-8478-77be76d11bfa</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>a SAML POST response for "p1" is sent to "p2"</name>
          <uid>c960a97e-7a34-44a5-a985-eed551eb3ce1</uid>
          <actionwordUid>f7e40ead-5d5b-41ea-a902-d44e58592f12</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
            <parameter>
              <name>p2</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>existing super user "p1"</name>
          <uid>74908960-7ef8-40cf-8168-c774030862fe</uid>
          <actionwordUid>d87da128-4fdb-4615-be3a-41cf45d7c4d1</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
        <actionwordSnapshot>
          <name>"p1" is not a super user</name>
          <uid>8f7bafc9-bcf3-45b7-8d98-1059930adee3</uid>
          <actionwordUid>fe73a811-8809-43bb-8198-7eb42f1d92a4</actionwordUid>
          <parameters>
            <parameter>
              <name>p1</name>
            </parameter>
          </parameters>
        </actionwordSnapshot>
      </actionwordSnapshots>
    </testRun>
  </testRuns>
</project>
